{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"alerts-section\"\n};\nconst _hoisted_3 = {\n  class: \"alerts-header\"\n};\nconst _hoisted_4 = {\n  class: \"alerts-stats\"\n};\nconst _hoisted_5 = {\n  class: \"stat-item total\"\n};\nconst _hoisted_6 = {\n  class: \"stat-number\"\n};\nconst _hoisted_7 = {\n  class: \"stat-item unhandled\"\n};\nconst _hoisted_8 = {\n  class: \"stat-number\"\n};\nconst _hoisted_9 = {\n  class: \"alerts-list\"\n};\nconst _hoisted_10 = {\n  class: \"alert-icon\"\n};\nconst _hoisted_11 = {\n  class: \"alert-content\"\n};\nconst _hoisted_12 = {\n  class: \"alert-title\"\n};\nconst _hoisted_13 = {\n  class: \"alert-meta\"\n};\nconst _hoisted_14 = {\n  class: \"alert-time\"\n};\nconst _hoisted_15 = {\n  class: \"alert-host\"\n};\nconst _hoisted_16 = {\n  class: \"alert-actions\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"empty-alerts\"\n};\nconst _hoisted_18 = {\n  class: \"monitoring-section\"\n};\nconst _hoisted_19 = {\n  class: \"monitoring-header\"\n};\nconst _hoisted_20 = {\n  class: \"monitoring-grid\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_tag = _resolveComponent(\"a-tag\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 统计卡片区域 \"), $setup.showMetrics ? (_openBlock(), _createBlock($setup[\"DynamicMetrics\"], {\n    key: 0,\n    config: $setup.metricsConfig,\n    metrics: $setup.metrics,\n    onMetricClick: $setup.handleMetricClick,\n    onMetricsLoaded: $setup.handleMetricsLoaded\n  }, null, 8 /* PROPS */, [\"config\", \"metrics\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 主要内容区域 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"main-content\", {\n      'no-alerts': !$setup.showAlerts\n    }])\n  }, [_createCommentVNode(\" 左侧告警区域 \"), $setup.showAlerts ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createVNode(_component_a_card, {\n    class: \"alerts-card\",\n    bordered: false\n  }, {\n    title: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"span\", {\n      class: \"alerts-title\"\n    }, \"最新告警\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", _hoisted_6, _toDisplayString($setup.totalAlerts), 1 /* TEXT */), _cache[4] || (_cache[4] = _createElementVNode(\"span\", {\n      class: \"stat-label\"\n    }, \"总告警\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"span\", _hoisted_8, _toDisplayString($setup.unhandledAlerts), 1 /* TEXT */), _cache[5] || (_cache[5] = _createElementVNode(\"span\", {\n      class: \"stat-label\"\n    }, \"未处理\", -1 /* CACHED */))])])])]),\n    extra: _withCtx(() => [_createVNode(_component_a_button, {\n      type: \"link\",\n      size: \"small\"\n    }, {\n      default: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createTextVNode(\"查看全部\", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    })]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.recentAlerts, alert => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: alert.id,\n        class: _normalizeClass([\"alert-item\", [`alert-${alert.level}`, {\n          'alert-unhandled': !alert.handled\n        }]])\n      }, [_cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n        class: \"alert-indicator\"\n      }, null, -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_10, [alert.level === 'warning' ? (_openBlock(), _createBlock($setup[\"WarningOutlined\"], {\n        key: 0\n      })) : _createCommentVNode(\"v-if\", true), alert.level === 'error' ? (_openBlock(), _createBlock($setup[\"ExclamationCircleOutlined\"], {\n        key: 1\n      })) : _createCommentVNode(\"v-if\", true), alert.level === 'info' ? (_openBlock(), _createBlock($setup[\"InfoCircleOutlined\"], {\n        key: 2\n      })) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, _toDisplayString(alert.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"span\", _hoisted_14, _toDisplayString(alert.time), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_15, _toDisplayString(alert.host), 1 /* TEXT */), !alert.handled ? (_openBlock(), _createBlock(_component_a_tag, {\n        key: 0,\n        class: \"alert-status\",\n        color: \"orange\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [...(_cache[8] || (_cache[8] = [_createTextVNode(\"未处理\", -1 /* CACHED */)]))]),\n        _: 1 /* STABLE */\n      })) : (_openBlock(), _createBlock(_component_a_tag, {\n        key: 1,\n        class: \"alert-status\",\n        color: \"green\",\n        size: \"small\"\n      }, {\n        default: _withCtx(() => [...(_cache[9] || (_cache[9] = [_createTextVNode(\"已处理\", -1 /* CACHED */)]))]),\n        _: 1 /* STABLE */\n      }))])]), _createElementVNode(\"div\", _hoisted_16, [!alert.handled ? (_openBlock(), _createBlock(_component_a_button, {\n        key: 0,\n        type: \"text\",\n        size: \"small\",\n        onClick: $event => $setup.handleAlert(alert.id)\n      }, {\n        default: _withCtx(() => [...(_cache[10] || (_cache[10] = [_createTextVNode(\" 处理 \", -1 /* CACHED */)]))]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true)])], 2 /* CLASS */);\n    }), 128 /* KEYED_FRAGMENT */)), $setup.recentAlerts.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createVNode($setup[\"CheckCircleOutlined\"], {\n      class: \"empty-icon\"\n    }), _cache[12] || (_cache[12] = _createElementVNode(\"p\", null, \"暂无告警信息\", -1 /* CACHED */))])) : _createCommentVNode(\"v-if\", true)])]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 右侧监控数据区域 \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_cache[13] || (_cache[13] = _createElementVNode(\"h3\", null, \"监控数据\", -1 /* CACHED */)), _createVNode(_component_a_button, {\n    type: \"text\",\n    size: \"small\",\n    onClick: $setup.showCardManager\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"SettingOutlined\"])]),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_20, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.monitoringCards, card => {\n    return _openBlock(), _createBlock($setup[\"MonitoringCard\"], {\n      key: card.id,\n      card: card,\n      onRefresh: $setup.handleRefreshCard\n    }, null, 8 /* PROPS */, [\"card\"]);\n  }), 128 /* KEYED_FRAGMENT */))])])], 2 /* CLASS */), _createCommentVNode(\" 卡片管理弹窗 \"), _createVNode($setup[\"CardManager\"], {\n    open: $setup.cardManagerVisible,\n    \"onUpdate:open\": _cache[0] || (_cache[0] = $event => $setup.cardManagerVisible = $event),\n    modelValue: $setup.monitoringCards,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.monitoringCards = $event),\n    showAlertCard: $setup.showAlerts,\n    \"onUpdate:showAlertCard\": _cache[2] || (_cache[2] = $event => $setup.showAlerts = $event),\n    showMetricsCard: $setup.showMetrics,\n    \"onUpdate:showMetricsCard\": _cache[3] || (_cache[3] = $event => $setup.showMetrics = $event),\n    \"alert-data\": $setup.recentAlerts,\n    onSave: $setup.handleSaveCards\n  }, null, 8 /* PROPS */, [\"open\", \"modelValue\", \"showAlertCard\", \"showMetricsCard\", \"alert-data\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","showMetrics","_createBlock","config","metricsConfig","metrics","onMetricClick","handleMetricClick","onMetricsLoaded","handleMetricsLoaded","_createElementVNode","_normalizeClass","showAlerts","_hoisted_2","_createVNode","_component_a_card","bordered","title","_withCtx","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","totalAlerts","_hoisted_7","_hoisted_8","unhandledAlerts","extra","_component_a_button","type","size","_cache","_hoisted_9","_Fragment","_renderList","recentAlerts","alert","key","id","level","handled","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","time","_hoisted_15","host","_component_a_tag","color","_hoisted_16","onClick","$event","handleAlert","length","_hoisted_17","_hoisted_18","_hoisted_19","showCardManager","_hoisted_20","monitoringCards","card","onRefresh","handleRefreshCard","open","cardManagerVisible","showAlertCard","showMetricsCard","onSave","handleSaveCards"],"sources":["E:\\A_project\\yuanchi\\AIops\\frontend\\src\\views\\business\\AssetDashboard.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">    \r\n    <!-- 统计卡片区域 -->\r\n    <DynamicMetrics \r\n      v-if=\"showMetrics\"\r\n      :config=\"metricsConfig\" \r\n      :metrics=\"metrics\"\r\n      @metric-click=\"handleMetricClick\"\r\n      @metrics-loaded=\"handleMetricsLoaded\"\r\n    />\r\n    \r\n    <!-- 主要内容区域 -->\r\n    <div class=\"main-content\" :class=\"{ 'no-alerts': !showAlerts }\">\r\n      <!-- 左侧告警区域 -->\r\n      <div v-if=\"showAlerts\" class=\"alerts-section\">\r\n        <a-card class=\"alerts-card\" :bordered=\"false\">\r\n          <template #title>\r\n            <div class=\"alerts-header\">\r\n              <span class=\"alerts-title\">最新告警</span>\r\n              <div class=\"alerts-stats\">\r\n                <div class=\"stat-item total\">\r\n                  <span class=\"stat-number\">{{ totalAlerts }}</span>\r\n                  <span class=\"stat-label\">总告警</span>\r\n                </div>\r\n                <div class=\"stat-item unhandled\">\r\n                  <span class=\"stat-number\">{{ unhandledAlerts }}</span>\r\n                  <span class=\"stat-label\">未处理</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template #extra>\r\n            <a-button type=\"link\" size=\"small\">查看全部</a-button>\r\n          </template>\r\n          <div class=\"alerts-list\">\r\n            <div \r\n              v-for=\"alert in recentAlerts\" \r\n              :key=\"alert.id\"\r\n              class=\"alert-item\"\r\n              :class=\"[`alert-${alert.level}`, { 'alert-unhandled': !alert.handled }]\"\r\n            >\r\n              <div class=\"alert-indicator\"></div>\r\n              <div class=\"alert-icon\">\r\n                <WarningOutlined v-if=\"alert.level === 'warning'\" />\r\n                <ExclamationCircleOutlined v-if=\"alert.level === 'error'\" />\r\n                <InfoCircleOutlined v-if=\"alert.level === 'info'\" />\r\n              </div>\r\n              <div class=\"alert-content\">\r\n                <div class=\"alert-title\">{{ alert.title }}</div>\r\n                <div class=\"alert-meta\">\r\n                  <span class=\"alert-time\">{{ alert.time }}</span>\r\n                  <span class=\"alert-host\">{{ alert.host }}</span>\r\n                  <a-tag v-if=\"!alert.handled\" class=\"alert-status\" color=\"orange\" size=\"small\">未处理</a-tag>\r\n                  <a-tag v-else class=\"alert-status\" color=\"green\" size=\"small\">已处理</a-tag>\r\n                </div>\r\n              </div>\r\n              <div class=\"alert-actions\">\r\n                <a-button v-if=\"!alert.handled\" type=\"text\" size=\"small\" @click=\"handleAlert(alert.id)\">\r\n                  处理\r\n                </a-button>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"recentAlerts.length === 0\" class=\"empty-alerts\">\r\n              <CheckCircleOutlined class=\"empty-icon\" />\r\n              <p>暂无告警信息</p>\r\n            </div>\r\n          </div>\r\n        </a-card>\r\n      </div>\r\n      \r\n      <!-- 右侧监控数据区域 -->\r\n      <div class=\"monitoring-section\">\r\n        <div class=\"monitoring-header\">\r\n          <h3>监控数据</h3>\r\n          <a-button type=\"text\" size=\"small\" @click=\"showCardManager\">\r\n            <SettingOutlined />\r\n          </a-button>\r\n        </div>\r\n        <div class=\"monitoring-grid\">\r\n          <MonitoringCard\r\n            v-for=\"card in monitoringCards\"\r\n            :key=\"card.id\"\r\n            :card=\"card\"\r\n            @refresh=\"handleRefreshCard\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- 卡片管理弹窗 -->\r\n    <CardManager\r\n      v-model:open=\"cardManagerVisible\"\r\n      v-model=\"monitoringCards\"\r\n      v-model:showAlertCard=\"showAlerts\"\r\n      v-model:showMetricsCard=\"showMetrics\"\r\n      :alert-data=\"recentAlerts\"\r\n      @save=\"handleSaveCards\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, computed } from 'vue';\r\nimport DynamicMetrics from '@/components/business/DynamicMetrics.vue';\r\nimport {\r\n  WarningOutlined,\r\n  ExclamationCircleOutlined,\r\n  InfoCircleOutlined,\r\n  CheckCircleOutlined,\r\n  SettingOutlined,\r\n  ReloadOutlined,\r\n  EditOutlined,\r\n  PlusOutlined\r\n} from '@ant-design/icons-vue';\r\nimport MonitoringCard from '@/components/business/MonitoringCard.vue';\r\nimport CardManager from '@/components/admin/CardManager.vue';\r\n\r\n// 动态指标配置\r\nconst metricsConfig = ref({\r\n  grid: {\r\n    columns: 'repeat(auto-fit, minmax(200px, 1fr))',\r\n    gap: '16px'\r\n  },\r\n  animation: {\r\n    enabled: true,\r\n    delay: 0.1\r\n  }\r\n});\r\n\r\n// 卡片管理相关\r\nconst cardManagerVisible = ref(false);\r\nconst showAlerts = ref(true); // 默认显示告警卡片\r\nconst showMetrics = ref(true); // 默认显示统计卡片\r\n\r\n// 最新告警数据\r\nconst recentAlerts = reactive([\r\n  {\r\n    id: 1,\r\n    title: 'CPU使用率过高',\r\n    time: '2分钟前',\r\n    host: 'web-server-01',\r\n    level: 'warning',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '磁盘空间不足',\r\n    time: '5分钟前',\r\n    host: 'db-server-02',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 3,\r\n    title: '内存使用率异常',\r\n    time: '10分钟前',\r\n    host: 'app-server-03',\r\n    level: 'warning',\r\n    handled: true\r\n  },\r\n  {\r\n    id: 4,\r\n    title: '网络连接超时',\r\n    time: '15分钟前',\r\n    host: 'proxy-server-01',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 5,\r\n    title: '服务重启完成',\r\n    time: '20分钟前',\r\n    host: 'web-server-02',\r\n    level: 'info',\r\n    handled: true\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '磁盘空间不足',\r\n    time: '5分钟前',\r\n    host: 'db-server-02',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 3,\r\n    title: '内存使用率异常',\r\n    time: '10分钟前',\r\n    host: 'app-server-03',\r\n    level: 'warning',\r\n    handled: true\r\n  },\r\n  {\r\n    id: 4,\r\n    title: '网络连接超时',\r\n    time: '15分钟前',\r\n    host: 'proxy-server-01',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 5,\r\n    title: '服务重启完成',\r\n    time: '20分钟前',\r\n    host: 'web-server-02',\r\n    level: 'info',\r\n    handled: true\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '磁盘空间不足',\r\n    time: '5分钟前',\r\n    host: 'db-server-02',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 3,\r\n    title: '内存使用率异常',\r\n    time: '10分钟前',\r\n    host: 'app-server-03',\r\n    level: 'warning',\r\n    handled: true\r\n  },\r\n  {\r\n    id: 4,\r\n    title: '网络连接超时',\r\n    time: '15分钟前',\r\n    host: 'proxy-server-01',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 5,\r\n    title: '服务重启完成',\r\n    time: '20分钟前',\r\n    host: 'web-server-02',\r\n    level: 'info',\r\n    handled: true\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '磁盘空间不足',\r\n    time: '5分钟前',\r\n    host: 'db-server-02',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 3,\r\n    title: '内存使用率异常',\r\n    time: '10分钟前',\r\n    host: 'app-server-03',\r\n    level: 'warning',\r\n    handled: true\r\n  },\r\n  {\r\n    id: 4,\r\n    title: '网络连接超时',\r\n    time: '15分钟前',\r\n    host: 'proxy-server-01',\r\n    level: 'error',\r\n    handled: false\r\n  },\r\n  {\r\n    id: 5,\r\n    title: '服务重启完成',\r\n    time: '20分钟前',\r\n    host: 'web-server-02',\r\n    level: 'info',\r\n    handled: true\r\n  }\r\n]);\r\n\r\n// 计算告警统计\r\nconst totalAlerts = computed(() => recentAlerts.length);\r\nconst unhandledAlerts = computed(() => recentAlerts.filter(alert => !alert.handled).length);\r\n\r\n// 监控卡片配置\r\nconst monitoringCards = reactive([\r\n  {\r\n    id: 'cpu-top5',\r\n    title: 'CPU使用率 TOP5',\r\n    type: 'chart',\r\n    chartType: 'bar',\r\n    data: [\r\n      { name: 'web-server-01', value: 85.2 },\r\n      { name: 'db-server-02', value: 78.5 },\r\n      { name: 'app-server-03', value: 72.8 },\r\n      { name: 'proxy-server-01', value: 68.3 },\r\n      { name: 'cache-server-01', value: 65.7 }\r\n    ],\r\n    unit: '%',\r\n    color: '#ff7875'\r\n  },\r\n  {\r\n    id: 'memory-top5',\r\n    title: '内存使用率 TOP5',\r\n    type: 'chart',\r\n    chartType: 'bar',\r\n    data: [\r\n      { name: 'db-server-02', value: 92.1 },\r\n      { name: 'app-server-03', value: 86.4 },\r\n      { name: 'web-server-01', value: 79.8 },\r\n      { name: 'cache-server-01', value: 74.2 },\r\n      { name: 'proxy-server-01', value: 68.9 }\r\n    ],\r\n    unit: '%',\r\n    color: '#5cdbd3'\r\n  },\r\n  {\r\n    id: 'disk-top5',\r\n    title: '磁盘使用率 TOP5',\r\n    type: 'chart',\r\n    chartType: 'bar',\r\n    data: [\r\n      { name: 'log-server-01', value: 95.3 },\r\n      { name: 'db-server-02', value: 88.7 },\r\n      { name: 'backup-server-01', value: 82.1 },\r\n      { name: 'web-server-01', value: 76.5 },\r\n      { name: 'app-server-03', value: 71.2 }\r\n    ],\r\n    unit: '%',\r\n    color: '#ffc53d'\r\n  },\r\n  {\r\n    id: 'network-top5',\r\n    title: '网络流量 TOP5',\r\n    type: 'chart',\r\n    chartType: 'line',\r\n    data: [\r\n      { name: 'proxy-server-01', value: 156.8 },\r\n      { name: 'web-server-01', value: 124.3 },\r\n      { name: 'db-server-02', value: 98.7 },\r\n      { name: 'app-server-03', value: 87.2 },\r\n      { name: 'cache-server-01', value: 76.5 }\r\n    ],\r\n    unit: 'MB/s',\r\n    color: '#40a9ff'\r\n  }\r\n]);\r\n\r\n// 指标数据\r\nconst metrics = reactive([\r\n  {\r\n    id: 'total-assets',\r\n    label: '总资产数量',\r\n    value: 128,\r\n    change: '+5%',\r\n    trend: 'up',\r\n    icon: 'DatabaseOutlined',\r\n    iconColor: '#1890ff',\r\n    iconBgColor: 'linear-gradient(135deg, #e6f7ff, #bae7ff)'\r\n  },\r\n  {\r\n    id: 'servers',\r\n    label: '服务器数量',\r\n    value: 64,\r\n    change: '+2%',\r\n    trend: 'up',\r\n    icon: 'CloudServerOutlined',\r\n    iconColor: '#52c41a',\r\n    iconBgColor: 'linear-gradient(135deg, #f6ffed, #d9f7be)'\r\n  },\r\n  {\r\n    id: 'network-devices',\r\n    label: '网络设备',\r\n    value: 32,\r\n    change: '-1%',\r\n    trend: 'down',\r\n    icon: 'GlobalOutlined',\r\n    iconColor: '#fa8c16',\r\n    iconBgColor: 'linear-gradient(135deg, #fff7e6, #ffd591)'\r\n  },\r\n  {\r\n    id: 'online-rate',\r\n    label: '在线率',\r\n    value: '98.7%',\r\n    change: '+0.5%',\r\n    trend: 'up',\r\n    icon: 'CheckCircleOutlined',\r\n    iconColor: '#13c2c2',\r\n    iconBgColor: 'linear-gradient(135deg, #e6fffb, #b5f5ec)'\r\n  },\r\n  {\r\n    id: 'warning-alerts',\r\n    label: '告警数量',\r\n    value: 3,\r\n    change: '-2',\r\n    trend: 'down',\r\n    icon: 'WarningOutlined',\r\n    iconColor: '#faad14',\r\n    iconBgColor: 'linear-gradient(135deg, #fffbe6, #fff1b8)'\r\n  },\r\n  {\r\n    id: 'monthly-growth',\r\n    label: '月增长率',\r\n    value: '12.3%',\r\n    change: '+1.2%',\r\n    trend: 'up',\r\n    icon: 'RiseOutlined',\r\n    iconColor: '#722ed1',\r\n    iconBgColor: 'linear-gradient(135deg, #f9f0ff, #efdbff)'\r\n  }\r\n]);\r\n\r\n// 处理指标点击事件\r\nconst handleMetricClick = (metric) => {\r\n  console.log('点击了指标:', metric);\r\n  // 可以在这里处理指标点击逻辑，比如跳转到详细页面\r\n};\r\n\r\n// 处理指标数据加载完成事件\r\nconst handleMetricsLoaded = (data) => {\r\n  console.log('指标数据加载完成:', data);\r\n  // 可以在这里处理数据加载完成后的逻辑\r\n};\r\n\r\n// 显示卡片管理弹窗\r\nconst showCardManager = () => {\r\n  cardManagerVisible.value = true;\r\n};\r\n\r\n// 保存卡片配置\r\nconst handleSaveCards = (data) => {\r\n  if (data.cards) {\r\n    // 更新本地存储\r\n    localStorage.setItem('monitoringCards', JSON.stringify(data.cards));\r\n  }\r\n  if (data.showAlert !== undefined) {\r\n    localStorage.setItem('showAlerts', JSON.stringify(data.showAlert));\r\n  }\r\n  if (data.showMetrics !== undefined) {\r\n    localStorage.setItem('showMetrics', JSON.stringify(data.showMetrics));\r\n  }\r\n};\r\n\r\n// 处理告警\r\nconst handleAlert = (alertId) => {\r\n  const alert = recentAlerts.find(a => a.id === alertId);\r\n  if (alert) {\r\n    alert.handled = true;\r\n  }\r\n};\r\n\r\n// 处理卡片刷新\r\nconst handleRefreshCard = (cardId) => {\r\n  console.log('刷新卡片:', cardId);\r\n  // 重新获取卡片数据\r\n};\r\n\r\n// 动态添加指标的方法\r\nconst addMetric = (newMetric) => {\r\n  metrics.push(newMetric);\r\n};\r\n\r\n// 动态更新指标的方法\r\nconst updateMetric = (metricId, newData) => {\r\n  const index = metrics.findIndex(m => m.id === metricId);\r\n  if (index !== -1) {\r\n    Object.assign(metrics[index], newData);\r\n  }\r\n};\r\n\r\n// 暴露方法供外部调用\r\ndefineExpose({\r\n  addMetric,\r\n  updateMetric\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  padding: 0;\r\n  animation: fadeIn 0.6s ease-out;\r\n}\r\n\r\n/* 主要内容区域 */\r\n.main-content {\r\n  display: grid;\r\n  grid-template-columns: 400px 1fr;\r\n  gap: 20px;\r\n  margin-top: 24px;\r\n}\r\n\r\n.main-content.no-alerts {\r\n  grid-template-columns: 1fr;\r\n}\r\n.alerts-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.alerts-card {\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(24, 144, 255, 0.06);\r\n  border: 1px solid rgba(24, 144, 255, 0.04);\r\n  overflow: hidden;\r\n  height: 100%;\r\n}\r\n\r\n:deep(.alerts-card .ant-card-head) {\r\n  background: linear-gradient(135deg, #f8faff 0%, #ffffff 100%);\r\n  border-bottom: 1px solid rgba(24, 144, 255, 0.08);\r\n  padding: 12px 16px;\r\n  min-height: auto;\r\n}\r\n\r\n:deep(.alerts-card .ant-card-head-title) {\r\n  width: 100%;\r\n}\r\n\r\n.alerts-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.alerts-title {\r\n  color: #434343;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n}\r\n\r\n.alerts-stats {\r\n  display: flex;\r\n  gap: 16px;\r\n}\r\n\r\n.stat-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  background: rgba(255, 255, 255, 0.8);\r\n  backdrop-filter: blur(4px);\r\n  min-width: 50px;\r\n}\r\n\r\n.stat-item.total {\r\n  border: 1px solid rgba(24, 144, 255, 0.2);\r\n}\r\n\r\n.stat-item.unhandled {\r\n  border: 1px solid rgba(250, 173, 20, 0.3);\r\n  background: rgba(250, 173, 20, 0.05);\r\n}\r\n\r\n.stat-number {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  line-height: 1;\r\n  color: #262626;\r\n}\r\n\r\n.stat-item.unhandled .stat-number {\r\n  color: #faad14;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 11px;\r\n  color: #8c8c8c;\r\n  line-height: 1;\r\n  margin-top: 2px;\r\n}\r\n\r\n:deep(.alerts-card .ant-card-body) {\r\n  background: linear-gradient(135deg, #ffffff 0%, #fafbff 100%);\r\n  padding: 12px;\r\n  height: calc(100vh - 160px);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.alerts-list {\r\n  height: calc(100% - 20px);\r\n  overflow-y: auto;\r\n  padding-right: 4px;\r\n  margin-right: -4px;\r\n}\r\n\r\n/* 优化滚动条样式 */\r\n.alerts-list::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.alerts-list::-webkit-scrollbar-track {\r\n  background: rgba(0, 0, 0, 0.04);\r\n  border-radius: 3px;\r\n}\r\n\r\n.alerts-list::-webkit-scrollbar-thumb {\r\n  background: rgba(24, 144, 255, 0.3);\r\n  border-radius: 3px;\r\n  transition: background 0.3s ease;\r\n}\r\n\r\n.alerts-list::-webkit-scrollbar-thumb:hover {\r\n  background: rgba(24, 144, 255, 0.5);\r\n}\r\n\r\n/* Firefox 滚动条样式 */\r\n.alerts-list {\r\n  scrollbar-width: thin;\r\n  scrollbar-color: rgba(24, 144, 255, 0.3) rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.alert-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 8px 10px;\r\n  border-radius: 6px;\r\n  margin-bottom: 6px;\r\n  position: relative;\r\n  background: rgba(255, 255, 255, 0.6);\r\n  border: 1px solid rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.alert-item:hover {\r\n  background: rgba(24, 144, 255, 0.04);\r\n  border-color: rgba(24, 144, 255, 0.1);\r\n}\r\n\r\n.alert-indicator {\r\n  width: 3px;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  border-radius: 0 3px 3px 0;\r\n}\r\n\r\n.alert-item.alert-warning .alert-indicator {\r\n  background: #faad14;\r\n}\r\n\r\n.alert-item.alert-error .alert-indicator {\r\n  background: #ff4d4f;\r\n}\r\n\r\n.alert-item.alert-info .alert-indicator {\r\n  background: #1890ff;\r\n}\r\n\r\n.alert-item.alert-unhandled {\r\n  border-left: 2px solid #faad14;\r\n  background: linear-gradient(90deg, rgba(250, 173, 20, 0.03) 0%, rgba(255, 255, 255, 0.6) 20%);\r\n}\r\n\r\n.alert-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.alert-icon .anticon {\r\n  font-size: 14px;\r\n}\r\n\r\n.alert-warning .alert-icon .anticon {\r\n  color: #faad14;\r\n}\r\n\r\n.alert-error .alert-icon .anticon {\r\n  color: #ff4d4f;\r\n}\r\n\r\n.alert-info .alert-icon .anticon {\r\n  color: #1890ff;\r\n}\r\n\r\n.alert-content {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.alert-title {\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: #262626;\r\n  margin-bottom: 3px;\r\n  line-height: 1.3;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.alert-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.alert-time {\r\n  font-size: 11px;\r\n  color: #8c8c8c;\r\n}\r\n\r\n.alert-host {\r\n  font-size: 11px;\r\n  color: #595959;\r\n  background: rgba(0, 0, 0, 0.05);\r\n  padding: 1px 4px;\r\n  border-radius: 3px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.alert-status {\r\n  margin: 0;\r\n}\r\n\r\n:deep(.alert-status.ant-tag) {\r\n  font-size: 10px;\r\n  padding: 0 4px;\r\n  height: 16px;\r\n  line-height: 14px;\r\n  border-radius: 8px;\r\n  margin: 0;\r\n}\r\n\r\n.alert-actions {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.alert-actions .ant-btn {\r\n  height: 20px;\r\n  padding: 0 6px;\r\n  font-size: 11px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.empty-alerts {\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: #bfbfbf;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 48px;\r\n  color: #52c41a;\r\n  margin-bottom: 16px;\r\n  display: block;\r\n}\r\n\r\n.empty-alerts p {\r\n  font-size: 14px;\r\n  margin: 0;\r\n}\r\n\r\n/* 监控区域 */\r\n.monitoring-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.monitoring-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.monitoring-header h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #434343;\r\n}\r\n\r\n.monitoring-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  grid-template-rows: 1fr 1fr;\r\n  gap: 16px;\r\n  height: 100%;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 1200px) {\r\n  .main-content {\r\n    grid-template-columns: 350px 1fr;\r\n    gap: 16px;\r\n  }\r\n  \r\n  .monitoring-grid {\r\n    gap: 12px;\r\n  }\r\n  \r\n  .alerts-stats {\r\n    gap: 12px;\r\n  }\r\n  \r\n  .stat-item {\r\n    min-width: 45px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .main-content {\r\n    grid-template-columns: 1fr;\r\n    gap: 16px;\r\n  }\r\n  \r\n  .alerts-section {\r\n    order: 2;\r\n  }\r\n  \r\n  .monitoring-section {\r\n    order: 1;\r\n  }\r\n  \r\n  .monitoring-grid {\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: repeat(4, auto);\r\n    gap: 12px;\r\n  }\r\n  \r\n  :deep(.alerts-card .ant-card-body) {\r\n    height: calc(100vh - 200px);\r\n  }\r\n  \r\n  .alerts-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .alerts-stats {\r\n    align-self: flex-end;\r\n    gap: 8px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .main-content {\r\n    gap: 12px;\r\n  }\r\n  \r\n  .monitoring-grid {\r\n    gap: 8px;\r\n  }\r\n  \r\n  .alert-item {\r\n    padding: 6px 8px;\r\n    margin-bottom: 4px;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .alert-title {\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .alert-time,\r\n  .alert-host {\r\n    font-size: 10px;\r\n  }\r\n  \r\n  .alerts-stats {\r\n    gap: 6px;\r\n  }\r\n  \r\n  .stat-item {\r\n    min-width: 40px;\r\n    padding: 3px 6px;\r\n  }\r\n  \r\n  .stat-number {\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .stat-label {\r\n    font-size: 10px;\r\n  }\r\n  \r\n  .alert-actions .ant-btn {\r\n    height: 18px;\r\n    padding: 0 4px;\r\n    font-size: 10px;\r\n  }\r\n}\r\n\r\n/* 动画效果 */\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(20px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}