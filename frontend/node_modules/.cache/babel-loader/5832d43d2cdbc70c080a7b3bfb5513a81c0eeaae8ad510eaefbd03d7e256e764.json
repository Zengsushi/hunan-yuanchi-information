{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"admin-logs admin-page\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-content\"\n};\nconst _hoisted_4 = {\n  class: \"page-title\"\n};\nconst _hoisted_5 = {\n  class: \"header-actions\"\n};\nconst _hoisted_6 = {\n  class: \"logs-layout admin-layout\"\n};\nconst _hoisted_7 = {\n  class: \"logs-menu admin-menu\"\n};\nconst _hoisted_8 = {\n  class: \"menu-list\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = {\n  class: \"menu-text\"\n};\nconst _hoisted_11 = {\n  class: \"menu-stats\"\n};\nconst _hoisted_12 = {\n  class: \"stats-list\"\n};\nconst _hoisted_13 = {\n  class: \"stat-item\"\n};\nconst _hoisted_14 = {\n  class: \"stat-value\"\n};\nconst _hoisted_15 = {\n  class: \"stat-item\"\n};\nconst _hoisted_16 = {\n  class: \"stat-value\"\n};\nconst _hoisted_17 = {\n  class: \"stat-item\"\n};\nconst _hoisted_18 = {\n  class: \"stat-value\"\n};\nconst _hoisted_19 = {\n  class: \"logs-content admin-content\"\n};\nconst _hoisted_20 = {\n  class: \"log-detail\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_input_search = _resolveComponent(\"a-input-search\");\n  const _component_a_select_option = _resolveComponent(\"a-select-option\");\n  const _component_a_select = _resolveComponent(\"a-select\");\n  const _component_a_space = _resolveComponent(\"a-space\");\n  const _component_a_tag = _resolveComponent(\"a-tag\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  const _component_a_descriptions_item = _resolveComponent(\"a-descriptions-item\");\n  const _component_a_descriptions = _resolveComponent(\"a-descriptions\");\n  const _component_a_modal = _resolveComponent(\"a-modal\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 页面标题区域 \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, [_createVNode($setup[\"FileTextOutlined\"]), _cache[3] || (_cache[3] = _createTextVNode(\" 操作日志 \", -1 /* CACHED */))]), _cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n    class: \"page-description\"\n  }, \"查看和管理系统操作日志记录\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_a_button, {\n    type: \"primary\",\n    onClick: $setup.exportLogs\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"DownloadOutlined\"]), _cache[5] || (_cache[5] = _createTextVNode(\" 导出日志 \", -1 /* CACHED */))]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" 日志分类导航 \"), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" 左侧菜单 \"), _createElementVNode(\"div\", _hoisted_7, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", {\n    class: \"menu-title\"\n  }, \"日志分类\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.categoryList, category => {\n    return _createElementVNode(\"div\", {\n      key: category.key,\n      class: _normalizeClass(['menu-item', {\n        'active': $setup.activeCategory === category.key\n      }]),\n      onClick: $event => $setup.handleCategoryChange(category.key)\n    }, [(_openBlock(), _createBlock(_resolveDynamicComponent(category.icon), {\n      class: \"menu-icon\"\n    })), _createElementVNode(\"span\", _hoisted_10, _toDisplayString(category.name), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_9);\n  }), 64 /* STABLE_FRAGMENT */))]), _createCommentVNode(\" 日志统计 \"), _createElementVNode(\"div\", _hoisted_11, [_cache[9] || (_cache[9] = _createElementVNode(\"div\", {\n    class: \"stats-title\"\n  }, \"日志统计\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_cache[6] || (_cache[6] = _createElementVNode(\"span\", {\n    class: \"stat-label\"\n  }, \"今日日志\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_14, _toDisplayString($setup.getTodayLogsCount()), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_15, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", {\n    class: \"stat-label\"\n  }, \"错误日志\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_16, _toDisplayString($setup.getErrorLogsCount()), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_17, [_cache[8] || (_cache[8] = _createElementVNode(\"span\", {\n    class: \"stat-label\"\n  }, \"总日志数\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_18, _toDisplayString($setup.allLogs.length), 1 /* TEXT */)])])])]), _createCommentVNode(\" 右侧内容 \"), _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_a_card, null, {\n    title: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getCurrentCategoryName()), 1 /* TEXT */)]),\n    extra: _withCtx(() => [_createVNode(_component_a_space, null, {\n      default: _withCtx(() => [_createVNode(_component_a_input_search, {\n        value: $setup.searchText,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = $event => $setup.searchText = $event),\n        placeholder: \"搜索日志内容...\",\n        style: {\n          \"width\": \"200px\"\n        },\n        onSearch: $setup.handleSearch\n      }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_a_select, {\n        value: $setup.dateRange,\n        \"onUpdate:value\": _cache[1] || (_cache[1] = $event => $setup.dateRange = $event),\n        placeholder: \"选择时间范围\",\n        style: {\n          \"width\": \"120px\"\n        },\n        onChange: $setup.handleDateRangeChange\n      }, {\n        default: _withCtx(() => [_createVNode(_component_a_select_option, {\n          value: \"today\"\n        }, {\n          default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createTextVNode(\"今天\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_a_select_option, {\n          value: \"week\"\n        }, {\n          default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createTextVNode(\"本周\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_a_select_option, {\n          value: \"month\"\n        }, {\n          default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\"本月\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_a_select_option, {\n          value: \"all\"\n        }, {\n          default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createTextVNode(\"全部\", -1 /* CACHED */)]))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"value\"]), _createVNode(_component_a_button, {\n        onClick: $setup.refreshData\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"ReloadOutlined\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    default: _withCtx(() => [_createVNode(_component_a_table, {\n      columns: $setup.tableColumns,\n      \"data-source\": $setup.filteredLogs,\n      pagination: $setup.pagination,\n      loading: $setup.loading,\n      \"row-key\": \"id\",\n      size: \"middle\"\n    }, {\n      bodyCell: _withCtx(({\n        column,\n        record\n      }) => [column.key === 'level' ? (_openBlock(), _createBlock(_component_a_tag, {\n        key: 0,\n        color: $setup.getLevelColor(record.level)\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getLevelText(record.level)), 1 /* TEXT */)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"color\"])) : column.key === 'module' ? (_openBlock(), _createBlock(_component_a_tag, {\n        key: 1,\n        color: \"blue\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(record.module), 1 /* TEXT */)]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)) : column.key === 'actions' ? (_openBlock(), _createBlock(_component_a_space, {\n        key: 2\n      }, {\n        default: _withCtx(() => [_createVNode(_component_a_button, {\n          type: \"link\",\n          size: \"small\",\n          onClick: $event => $setup.viewLogDetail(record)\n        }, {\n          default: _withCtx(() => [...(_cache[15] || (_cache[15] = [_createTextVNode(\" 查看详情 \", -1 /* CACHED */)]))]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */)) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data-source\", \"pagination\", \"loading\"])]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" 日志详情弹窗 \"), _createVNode(_component_a_modal, {\n    open: $setup.detailModalVisible,\n    \"onUpdate:open\": _cache[2] || (_cache[2] = $event => $setup.detailModalVisible = $event),\n    title: \"日志详情\",\n    width: \"800px\",\n    footer: null\n  }, {\n    default: _withCtx(() => [$setup.selectedLog ? (_openBlock(), _createBlock(_component_a_descriptions, {\n      key: 0,\n      column: 1,\n      bordered: \"\",\n      size: \"small\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_descriptions_item, {\n        label: \"操作时间\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.selectedLog.created_at), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_a_descriptions_item, {\n        label: \"操作用户\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.selectedLog.user), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_a_descriptions_item, {\n        label: \"操作模块\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_a_tag, {\n          color: \"blue\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.selectedLog.module), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_a_descriptions_item, {\n        label: \"日志级别\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_a_tag, {\n          color: $setup.getLevelColor($setup.selectedLog.level)\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getLevelText($setup.selectedLog.level)), 1 /* TEXT */)]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"color\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_a_descriptions_item, {\n        label: \"操作内容\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.selectedLog.content), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_a_descriptions_item, {\n        label: \"IP地址\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.selectedLog.ip), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_a_descriptions_item, {\n        label: \"用户代理\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.selectedLog.user_agent), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_a_descriptions_item, {\n        label: \"详细信息\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"pre\", _hoisted_20, _toDisplayString($setup.selectedLog.details), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"open\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","$setup","_hoisted_5","_component_a_button","type","onClick","exportLogs","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","categoryList","category","key","_normalizeClass","activeCategory","$event","handleCategoryChange","_createBlock","_resolveDynamicComponent","icon","_hoisted_10","_toDisplayString","name","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","getTodayLogsCount","_hoisted_15","_hoisted_16","getErrorLogsCount","_hoisted_17","_hoisted_18","allLogs","length","_hoisted_19","_component_a_card","title","_withCtx","getCurrentCategoryName","extra","_component_a_space","_component_a_input_search","value","searchText","placeholder","style","onSearch","handleSearch","_component_a_select","dateRange","onChange","handleDateRangeChange","_component_a_select_option","_cache","refreshData","_component_a_table","columns","tableColumns","filteredLogs","pagination","loading","size","bodyCell","column","record","_component_a_tag","color","getLevelColor","level","getLevelText","module","viewLogDetail","_component_a_modal","open","detailModalVisible","width","footer","selectedLog","_component_a_descriptions","bordered","_component_a_descriptions_item","label","created_at","user","content","ip","user_agent","_hoisted_20","details"],"sources":["E:\\A_project\\yuanchi\\AIops\\frontend\\src\\views\\admin\\AdminLogs.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-logs admin-page\">\r\n    <!-- 页面标题区域 -->\r\n    <div class=\"page-header\">\r\n      <div class=\"header-content\">\r\n        <h1 class=\"page-title\">\r\n          <FileTextOutlined />\r\n          操作日志\r\n        </h1>\r\n        <p class=\"page-description\">查看和管理系统操作日志记录</p>\r\n      </div>\r\n      <div class=\"header-actions\">\r\n        <a-button type=\"primary\" @click=\"exportLogs\">\r\n          <DownloadOutlined />\r\n          导出日志\r\n        </a-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 日志分类导航 -->\r\n    <div class=\"logs-layout admin-layout\">\r\n      <!-- 左侧菜单 -->\r\n      <div class=\"logs-menu admin-menu\">\r\n        <div class=\"menu-title\">日志分类</div>\r\n        <div class=\"menu-list\">\r\n          <div \r\n            v-for=\"category in categoryList\" \r\n            :key=\"category.key\"\r\n            :class=\"['menu-item', { 'active': activeCategory === category.key }]\"\r\n            @click=\"handleCategoryChange(category.key)\"\r\n          >\r\n            <component :is=\"category.icon\" class=\"menu-icon\" />\r\n            <span class=\"menu-text\">{{ category.name }}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 日志统计 -->\r\n        <div class=\"menu-stats\">\r\n          <div class=\"stats-title\">日志统计</div>\r\n          <div class=\"stats-list\">\r\n            <div class=\"stat-item\">\r\n              <span class=\"stat-label\">今日日志</span>\r\n              <span class=\"stat-value\">{{ getTodayLogsCount() }}</span>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <span class=\"stat-label\">错误日志</span>\r\n              <span class=\"stat-value\">{{ getErrorLogsCount() }}</span>\r\n            </div>\r\n            <div class=\"stat-item\">\r\n              <span class=\"stat-label\">总日志数</span>\r\n              <span class=\"stat-value\">{{ allLogs.length }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 右侧内容 -->\r\n      <div class=\"logs-content admin-content\">\r\n        <a-card>\r\n          <template #title>\r\n            {{ getCurrentCategoryName() }}\r\n          </template>\r\n          <template #extra>\r\n            <a-space>\r\n              <a-input-search\r\n                v-model:value=\"searchText\"\r\n                placeholder=\"搜索日志内容...\"\r\n                style=\"width: 200px\"\r\n                @search=\"handleSearch\"\r\n              />\r\n              <a-select\r\n                v-model:value=\"dateRange\"\r\n                placeholder=\"选择时间范围\"\r\n                style=\"width: 120px\"\r\n                @change=\"handleDateRangeChange\"\r\n              >\r\n                <a-select-option value=\"today\">今天</a-select-option>\r\n                <a-select-option value=\"week\">本周</a-select-option>\r\n                <a-select-option value=\"month\">本月</a-select-option>\r\n                <a-select-option value=\"all\">全部</a-select-option>\r\n              </a-select>\r\n              <a-button @click=\"refreshData\">\r\n                <ReloadOutlined />\r\n              </a-button>\r\n            </a-space>\r\n          </template>\r\n\r\n          <a-table\r\n            :columns=\"tableColumns\"\r\n            :data-source=\"filteredLogs\"\r\n            :pagination=\"pagination\"\r\n            :loading=\"loading\"\r\n            row-key=\"id\"\r\n            size=\"middle\"\r\n          >\r\n            <template #bodyCell=\"{ column, record }\">\r\n              <template v-if=\"column.key === 'level'\">\r\n                <a-tag :color=\"getLevelColor(record.level)\">\r\n                  {{ getLevelText(record.level) }}\r\n                </a-tag>\r\n              </template>\r\n              <template v-else-if=\"column.key === 'module'\">\r\n                <a-tag color=\"blue\">\r\n                  {{ record.module }}\r\n                </a-tag>\r\n              </template>\r\n              <template v-else-if=\"column.key === 'actions'\">\r\n                <a-space>\r\n                  <a-button type=\"link\" size=\"small\" @click=\"viewLogDetail(record)\">\r\n                    查看详情\r\n                  </a-button>\r\n                </a-space>\r\n              </template>\r\n            </template>\r\n          </a-table>\r\n        </a-card>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 日志详情弹窗 -->\r\n    <a-modal\r\n      v-model:open=\"detailModalVisible\"\r\n      title=\"日志详情\"\r\n      width=\"800px\"\r\n      :footer=\"null\"\r\n    >\r\n      <a-descriptions\r\n        v-if=\"selectedLog\"\r\n        :column=\"1\"\r\n        bordered\r\n        size=\"small\"\r\n      >\r\n        <a-descriptions-item label=\"操作时间\">\r\n          {{ selectedLog.created_at }}\r\n        </a-descriptions-item>\r\n        <a-descriptions-item label=\"操作用户\">\r\n          {{ selectedLog.user }}\r\n        </a-descriptions-item>\r\n        <a-descriptions-item label=\"操作模块\">\r\n          <a-tag color=\"blue\">{{ selectedLog.module }}</a-tag>\r\n        </a-descriptions-item>\r\n        <a-descriptions-item label=\"日志级别\">\r\n          <a-tag :color=\"getLevelColor(selectedLog.level)\">\r\n            {{ getLevelText(selectedLog.level) }}\r\n          </a-tag>\r\n        </a-descriptions-item>\r\n        <a-descriptions-item label=\"操作内容\">\r\n          {{ selectedLog.content }}\r\n        </a-descriptions-item>\r\n        <a-descriptions-item label=\"IP地址\">\r\n          {{ selectedLog.ip }}\r\n        </a-descriptions-item>\r\n        <a-descriptions-item label=\"用户代理\">\r\n          {{ selectedLog.user_agent }}\r\n        </a-descriptions-item>\r\n        <a-descriptions-item label=\"详细信息\">\r\n          <pre class=\"log-detail\">{{ selectedLog.details }}</pre>\r\n        </a-descriptions-item>\r\n      </a-descriptions>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, watch } from 'vue';\r\nimport { message } from 'ant-design-vue';\r\nimport {\r\n  FileTextOutlined,\r\n  DownloadOutlined,\r\n  ReloadOutlined,\r\n  UserOutlined,\r\n  LoginOutlined,\r\n  SettingOutlined,\r\n  DatabaseOutlined,\r\n  SafetyOutlined,\r\n  FileOutlined\r\n} from '@ant-design/icons-vue';\r\n\r\n// 响应式数据\r\nconst activeCategory = ref('user');\r\nconst searchText = ref('');\r\nconst dateRange = ref('all');\r\nconst loading = ref(false);\r\nconst detailModalVisible = ref(false);\r\nconst selectedLog = ref(null);\r\n\r\n// 分类列表\r\nconst categoryList = [\r\n  { key: 'user', name: '用户操作', icon: UserOutlined },\r\n  { key: 'login', name: '登录日志', icon: LoginOutlined },\r\n  { key: 'system', name: '系统操作', icon: SettingOutlined },\r\n  { key: 'database', name: '数据操作', icon: DatabaseOutlined },\r\n  { key: 'security', name: '安全日志', icon: SafetyOutlined },\r\n  { key: 'error', name: '错误日志', icon: FileOutlined }\r\n];\r\n\r\n// 表格配置\r\nconst pagination = ref({\r\n  current: 1,\r\n  pageSize: 10,\r\n  total: 0,\r\n  showSizeChanger: true,\r\n  showQuickJumper: true,\r\n  showTotal: (total) => `共 ${total} 条记录`\r\n});\r\n\r\n// 表格列配置\r\nconst tableColumns = [\r\n  {\r\n    title: '时间',\r\n    dataIndex: 'created_at',\r\n    key: 'created_at',\r\n    width: 180,\r\n    fixed: 'left',\r\n    sorter: (a, b) => new Date(a.created_at) - new Date(b.created_at)\r\n  },\r\n  {\r\n    title: '用户',\r\n    dataIndex: 'user',\r\n    key: 'user',\r\n    width: 120\r\n  },\r\n  {\r\n    title: '模块',\r\n    dataIndex: 'module',\r\n    key: 'module',\r\n    width: 100\r\n  },\r\n  {\r\n    title: '级别',\r\n    dataIndex: 'level',\r\n    key: 'level',\r\n    width: 100\r\n  },\r\n  {\r\n    title: '操作内容',\r\n    dataIndex: 'content',\r\n    key: 'content',\r\n    ellipsis: true\r\n  },\r\n  {\r\n    title: 'IP地址',\r\n    dataIndex: 'ip',\r\n    key: 'ip',\r\n    width: 140\r\n  },\r\n  {\r\n    title: '操作',\r\n    key: 'actions',\r\n    width: 120,\r\n    fixed: 'right'\r\n  }\r\n];\r\n\r\n// 模拟日志数据\r\nconst allLogs = ref([\r\n  // 用户操作日志\r\n  { id: 1, category: 'user', level: 'info', user: 'admin', module: '用户管理', content: '创建新用户 user1', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 10:30:15', details: '{\"action\": \"create_user\", \"target\": \"user1\", \"success\": true}' },\r\n  { id: 2, category: 'user', level: 'warning', user: 'admin', module: '用户管理', content: '修改用户权限 user2', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 11:15:30', details: '{\"action\": \"modify_permission\", \"target\": \"user2\", \"old_role\": \"viewer\", \"new_role\": \"operator\"}' },\r\n  { id: 3, category: 'user', level: 'error', user: 'admin', module: '用户管理', content: '删除用户失败 user3', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 14:22:45', details: '{\"action\": \"delete_user\", \"target\": \"user3\", \"error\": \"用户正在使用中，无法删除\"}' },\r\n  \r\n  // 登录日志\r\n  { id: 4, category: 'login', level: 'info', user: 'admin', module: '登录', content: '用户登录成功', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 09:00:00', details: '{\"login_time\": \"2024-01-20 09:00:00\", \"success\": true}' },\r\n  { id: 5, category: 'login', level: 'warning', user: 'unknown', module: '登录', content: '登录失败，密码错误', ip: '192.168.1.150', user_agent: 'Mozilla/5.0 Firefox/121.0', created_at: '2024-01-20 09:05:12', details: '{\"username\": \"admin\", \"reason\": \"wrong_password\", \"attempt\": 3}' },\r\n  { id: 6, category: 'login', level: 'info', user: 'operator1', module: '登录', content: '用户登录成功', ip: '192.168.1.120', user_agent: 'Mozilla/5.0 Safari/17.0', created_at: '2024-01-20 09:30:25', details: '{\"login_time\": \"2024-01-20 09:30:25\", \"success\": true}' },\r\n  \r\n  // 系统操作日志\r\n  { id: 7, category: 'system', level: 'info', user: 'admin', module: '系统设置', content: '修改系统配置', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 15:45:00', details: '{\"config\": \"system_name\", \"old_value\": \"旧系统名\", \"new_value\": \"新系统名\"}' },\r\n  { id: 8, category: 'system', level: 'warning', user: 'admin', module: '系统维护', content: '系统重启', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 16:00:00', details: '{\"action\": \"system_restart\", \"reason\": \"配置更新\"}' },\r\n  \r\n  // 数据操作日志\r\n  { id: 9, category: 'database', level: 'info', user: 'admin', module: '数据管理', content: '备份数据库', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 02:00:00', details: '{\"backup_file\": \"backup_20240120.sql\", \"size\": \"2.5GB\"}' },\r\n  { id: 10, category: 'database', level: 'error', user: 'system', module: '数据同步', content: '数据同步失败', ip: '127.0.0.1', user_agent: 'System Process', created_at: '2024-01-20 03:15:30', details: '{\"sync_target\": \"remote_server\", \"error\": \"连接超时\"}' },\r\n  \r\n  // 安全日志\r\n  { id: 11, category: 'security', level: 'warning', user: 'unknown', module: '安全', content: '检测到异常登录尝试', ip: '203.0.113.0', user_agent: 'Unknown Bot', created_at: '2024-01-20 12:30:00', details: '{\"attempts\": 10, \"blocked\": true, \"duration\": \"1小时\"}' },\r\n  { id: 12, category: 'security', level: 'info', user: 'admin', module: '权限', content: '更新安全策略', ip: '192.168.1.100', user_agent: 'Mozilla/5.0 Chrome/120.0', created_at: '2024-01-20 13:00:00', details: '{\"policy\": \"password_strength\", \"level\": \"high\"}' },\r\n  \r\n  // 错误日志\r\n  { id: 13, category: 'error', level: 'error', user: 'system', module: '系统错误', content: '服务异常退出', ip: '127.0.0.1', user_agent: 'System Process', created_at: '2024-01-20 08:45:22', details: '{\"service\": \"monitoring_service\", \"exit_code\": 1, \"restart\": true}' },\r\n  { id: 14, category: 'error', level: 'error', user: 'system', module: '数据库', content: '数据库连接失败', ip: '127.0.0.1', user_agent: 'System Process', created_at: '2024-01-20 09:12:33', details: '{\"database\": \"mysql\", \"error\": \"Too many connections\"}' }\r\n]);\r\n\r\n// 计算属性\r\nconst currentLogs = computed(() => {\r\n  return allLogs.value.filter(item => item.category === activeCategory.value);\r\n});\r\n\r\nconst filteredLogs = computed(() => {\r\n  let logs = currentLogs.value;\r\n  \r\n  // 按搜索文本过滤\r\n  if (searchText.value) {\r\n    logs = logs.filter(item => \r\n      item.content.toLowerCase().includes(searchText.value.toLowerCase()) ||\r\n      item.user.toLowerCase().includes(searchText.value.toLowerCase()) ||\r\n      item.module.toLowerCase().includes(searchText.value.toLowerCase())\r\n    );\r\n  }\r\n  \r\n  // 按时间范围过滤\r\n  if (dateRange.value !== 'all') {\r\n    const now = new Date();\r\n    let startDate;\r\n    \r\n    switch (dateRange.value) {\r\n      case 'today':\r\n        startDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n        break;\r\n      case 'week':\r\n        startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n        break;\r\n      case 'month':\r\n        startDate = new Date(now.getFullYear(), now.getMonth(), 1);\r\n        break;\r\n    }\r\n    \r\n    if (startDate) {\r\n      logs = logs.filter(item => new Date(item.created_at) >= startDate);\r\n    }\r\n  }\r\n  \r\n  return logs;\r\n});\r\n\r\n// 方法\r\nconst getCurrentCategoryName = () => {\r\n  const categoryNames = {\r\n    'user': '用户操作日志',\r\n    'login': '登录日志',\r\n    'system': '系统操作日志',\r\n    'database': '数据操作日志',\r\n    'security': '安全日志',\r\n    'error': '错误日志'\r\n  };\r\n  return categoryNames[activeCategory.value] || '未知分类';\r\n};\r\n\r\nconst getLevelColor = (level) => {\r\n  const colors = {\r\n    'info': 'blue',\r\n    'warning': 'orange',\r\n    'error': 'red',\r\n    'debug': 'gray'\r\n  };\r\n  return colors[level] || 'default';\r\n};\r\n\r\nconst getLevelText = (level) => {\r\n  const texts = {\r\n    'info': '信息',\r\n    'warning': '警告',\r\n    'error': '错误',\r\n    'debug': '调试'\r\n  };\r\n  return texts[level] || level;\r\n};\r\n\r\nconst handleCategoryChange = (key) => {\r\n  activeCategory.value = key;\r\n  searchText.value = '';\r\n  dateRange.value = 'all';\r\n  pagination.value.current = 1;\r\n};\r\n\r\nconst handleSearch = () => {\r\n  pagination.value.current = 1;\r\n};\r\n\r\nconst handleDateRangeChange = () => {\r\n  pagination.value.current = 1;\r\n};\r\n\r\nconst refreshData = () => {\r\n  loading.value = true;\r\n  setTimeout(() => {\r\n    loading.value = false;\r\n    message.success('数据刷新成功');\r\n  }, 500);\r\n};\r\n\r\nconst viewLogDetail = (record) => {\r\n  selectedLog.value = record;\r\n  detailModalVisible.value = true;\r\n};\r\n\r\nconst exportLogs = () => {\r\n  // 模拟导出功能\r\n  message.success('日志导出成功');\r\n};\r\n\r\n// 统计方法\r\nconst getTodayLogsCount = () => {\r\n  const today = new Date();\r\n  const todayStr = today.toISOString().split('T')[0];\r\n  return allLogs.value.filter(log => log.created_at.startsWith(todayStr)).length;\r\n};\r\n\r\nconst getErrorLogsCount = () => {\r\n  return allLogs.value.filter(log => log.level === 'error').length;\r\n};\r\n\r\n// 监听器\r\nwatch(() => filteredLogs.value, (newVal) => {\r\n  pagination.value.total = newVal.length;\r\n});\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  refreshData();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n@import '@/assets/admin-common.css';\r\n\r\n/* 操作日志页面特有的样式 */\r\n/* 日志详情样式 */\r\n.log-detail {\r\n  background: #f5f5f5;\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  font-family: 'Courier New', monospace;\r\n  font-size: 12px;\r\n  color: #333;\r\n  white-space: pre-wrap;\r\n  word-break: break-all;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}