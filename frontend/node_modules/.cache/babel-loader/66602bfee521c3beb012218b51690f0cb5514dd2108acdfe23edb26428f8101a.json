{"ast":null,"code":"import { ref, reactive, computed } from 'vue';\nimport { message } from 'ant-design-vue';\nimport { CrownOutlined, UserAddOutlined, EditOutlined, DeleteOutlined, KeyOutlined, TeamOutlined } from '@ant-design/icons-vue';\n\n// 用户管理\n\nexport default {\n  __name: 'AdminManagement',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const users = ref([{\n      id: 1,\n      username: 'admin',\n      email: 'admin@system.com',\n      role: 'admin',\n      active: true,\n      lastLogin: '2024-01-20 14:30:00'\n    }, {\n      id: 2,\n      username: 'user1',\n      email: 'user1@system.com',\n      role: 'operator',\n      active: true,\n      lastLogin: '2024-01-20 10:15:00'\n    }, {\n      id: 3,\n      username: 'user2',\n      email: 'user2@system.com',\n      role: 'viewer',\n      active: false,\n      lastLogin: '2024-01-19 16:45:00'\n    }]);\n    const userColumns = [{\n      title: '用户名',\n      dataIndex: 'username',\n      key: 'username'\n    }, {\n      title: '邮箱',\n      dataIndex: 'email',\n      key: 'email'\n    }, {\n      title: '角色',\n      dataIndex: 'role',\n      key: 'role'\n    }, {\n      title: '状态',\n      dataIndex: 'active',\n      key: 'status'\n    }, {\n      title: '最后登录',\n      dataIndex: 'lastLogin',\n      key: 'lastLogin'\n    }, {\n      title: '操作',\n      key: 'action',\n      width: 150\n    }];\n\n    // 角色管理\n    const roles = ref([{\n      id: 1,\n      name: '管理员',\n      description: '拥有系统所有权限',\n      userCount: 1,\n      permissions: ['dashboard', 'assets', 'users', 'settings']\n    }, {\n      id: 2,\n      name: '操作员',\n      description: '可以查看和操作资产信息',\n      userCount: 1,\n      permissions: ['dashboard', 'assets']\n    }, {\n      id: 3,\n      name: '观察者',\n      description: '只能查看监控数据',\n      userCount: 1,\n      permissions: ['dashboard']\n    }]);\n    const selectedRole = ref(null);\n    const selectedPermissions = ref([]);\n    const permissionTree = [{\n      title: '监控概览',\n      key: 'dashboard',\n      children: [{\n        title: '查看监控数据',\n        key: 'dashboard.view'\n      }, {\n        title: '导出报表',\n        key: 'dashboard.export'\n      }]\n    }, {\n      title: '资产管理',\n      key: 'assets',\n      children: [{\n        title: '查看资产',\n        key: 'assets.view'\n      }, {\n        title: '添加资产',\n        key: 'assets.create'\n      }, {\n        title: '编辑资产',\n        key: 'assets.edit'\n      }, {\n        title: '删除资产',\n        key: 'assets.delete'\n      }]\n    }, {\n      title: '用户管理',\n      key: 'users',\n      children: [{\n        title: '查看用户',\n        key: 'users.view'\n      }, {\n        title: '添加用户',\n        key: 'users.create'\n      }, {\n        title: '编辑用户',\n        key: 'users.edit'\n      }, {\n        title: '删除用户',\n        key: 'users.delete'\n      }]\n    }, {\n      title: '系统设置',\n      key: 'settings',\n      children: [{\n        title: '查看设置',\n        key: 'settings.view'\n      }, {\n        title: '修改设置',\n        key: 'settings.edit'\n      }]\n    }];\n\n    // 用户表单\n    const userModalVisible = ref(false);\n    const editingUser = ref(null);\n    const userForm = reactive({\n      username: '',\n      email: '',\n      role: '',\n      password: ''\n    });\n    const userRules = {\n      username: [{\n        required: true,\n        message: '请输入用户名',\n        trigger: 'blur'\n      }],\n      email: [{\n        required: true,\n        message: '请输入邮箱',\n        trigger: 'blur'\n      }, {\n        type: 'email',\n        message: '请输入正确的邮箱格式',\n        trigger: 'blur'\n      }],\n      role: [{\n        required: true,\n        message: '请选择角色',\n        trigger: 'change'\n      }],\n      password: [{\n        required: true,\n        message: '请输入密码',\n        trigger: 'blur'\n      }, {\n        min: 6,\n        message: '密码长度不能少于6位',\n        trigger: 'blur'\n      }]\n    };\n\n    // 系统设置\n    const systemSettings = reactive({\n      systemName: '运维监控系统',\n      version: 'v1.0.0',\n      sessionTimeout: 30,\n      passwordStrength: 'medium'\n    });\n\n    // 辅助函数\n    const getRoleColor = role => {\n      const colors = {\n        admin: 'red',\n        operator: 'blue',\n        viewer: 'green'\n      };\n      return colors[role] || 'default';\n    };\n    const getRoleText = role => {\n      const texts = {\n        admin: '管理员',\n        operator: '操作员',\n        viewer: '观察者'\n      };\n      return texts[role] || role;\n    };\n\n    // 用户管理方法\n    const showAddUserModal = () => {\n      editingUser.value = null;\n      Object.assign(userForm, {\n        username: '',\n        email: '',\n        role: '',\n        password: ''\n      });\n      userModalVisible.value = true;\n    };\n    const editUser = user => {\n      editingUser.value = user;\n      Object.assign(userForm, {\n        username: user.username,\n        email: user.email,\n        role: user.role,\n        password: ''\n      });\n      userModalVisible.value = true;\n    };\n    const saveUser = () => {\n      if (editingUser.value) {\n        // 编辑用户\n        const index = users.value.findIndex(u => u.id === editingUser.value.id);\n        if (index !== -1) {\n          users.value[index] = {\n            ...users.value[index],\n            email: userForm.email,\n            role: userForm.role\n          };\n        }\n        message.success('用户信息更新成功');\n      } else {\n        // 添加新用户\n        const newUser = {\n          id: Date.now(),\n          username: userForm.username,\n          email: userForm.email,\n          role: userForm.role,\n          active: true,\n          lastLogin: '-'\n        };\n        users.value.push(newUser);\n        message.success('用户添加成功');\n      }\n      userModalVisible.value = false;\n    };\n    const cancelUserEdit = () => {\n      userModalVisible.value = false;\n    };\n    const toggleUserStatus = user => {\n      message.success(`用户${user.username}已${user.active ? '启用' : '禁用'}`);\n    };\n    const resetPassword = user => {\n      message.success(`已重置用户${user.username}的密码`);\n    };\n    const deleteUser = user => {\n      const index = users.value.findIndex(u => u.id === user.id);\n      if (index !== -1) {\n        users.value.splice(index, 1);\n        message.success('用户删除成功');\n      }\n    };\n\n    // 角色权限管理方法\n    const selectRole = role => {\n      selectedRole.value = role;\n      selectedPermissions.value = [...role.permissions];\n    };\n    const onPermissionChange = checkedKeys => {\n      selectedPermissions.value = checkedKeys;\n    };\n    const savePermissions = () => {\n      if (selectedRole.value) {\n        selectedRole.value.permissions = [...selectedPermissions.value];\n        message.success('权限保存成功');\n      }\n    };\n    const resetPermissions = () => {\n      if (selectedRole.value) {\n        selectedPermissions.value = [...selectedRole.value.permissions];\n      }\n    };\n\n    // 系统设置方法\n    const saveSystemSettings = () => {\n      message.success('系统设置保存成功');\n    };\n    const resetSystemSettings = () => {\n      Object.assign(systemSettings, {\n        systemName: '运维监控系统',\n        version: 'v1.0.0',\n        sessionTimeout: 30,\n        passwordStrength: 'medium'\n      });\n      message.info('系统设置已重置');\n    };\n    const __returned__ = {\n      users,\n      userColumns,\n      roles,\n      selectedRole,\n      selectedPermissions,\n      permissionTree,\n      userModalVisible,\n      editingUser,\n      userForm,\n      userRules,\n      systemSettings,\n      getRoleColor,\n      getRoleText,\n      showAddUserModal,\n      editUser,\n      saveUser,\n      cancelUserEdit,\n      toggleUserStatus,\n      resetPassword,\n      deleteUser,\n      selectRole,\n      onPermissionChange,\n      savePermissions,\n      resetPermissions,\n      saveSystemSettings,\n      resetSystemSettings,\n      ref,\n      reactive,\n      computed,\n      get message() {\n        return message;\n      },\n      get CrownOutlined() {\n        return CrownOutlined;\n      },\n      get UserAddOutlined() {\n        return UserAddOutlined;\n      },\n      get EditOutlined() {\n        return EditOutlined;\n      },\n      get DeleteOutlined() {\n        return DeleteOutlined;\n      },\n      get KeyOutlined() {\n        return KeyOutlined;\n      },\n      get TeamOutlined() {\n        return TeamOutlined;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","message","CrownOutlined","UserAddOutlined","EditOutlined","DeleteOutlined","KeyOutlined","TeamOutlined","users","id","username","email","role","active","lastLogin","userColumns","title","dataIndex","key","width","roles","name","description","userCount","permissions","selectedRole","selectedPermissions","permissionTree","children","userModalVisible","editingUser","userForm","password","userRules","required","trigger","type","min","systemSettings","systemName","version","sessionTimeout","passwordStrength","getRoleColor","colors","admin","operator","viewer","getRoleText","texts","showAddUserModal","value","Object","assign","editUser","user","saveUser","index","findIndex","u","success","newUser","Date","now","push","cancelUserEdit","toggleUserStatus","resetPassword","deleteUser","splice","selectRole","onPermissionChange","checkedKeys","savePermissions","resetPermissions","saveSystemSettings","resetSystemSettings","info"],"sources":["E:/A_project/yuanchi/AIops/frontend/src/views/admin/AdminManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"admin-management\">\r\n    <div class=\"page-header\">\r\n      <h2 class=\"page-title\">\r\n        <CrownOutlined class=\"title-icon\" />\r\n        管理员控制面板\r\n      </h2>\r\n      <p class=\"page-desc\">管理系统用户权限、角色分配和系统设置</p>\r\n    </div>\r\n\r\n    <div class=\"admin-content\">\r\n      <!-- 用户管理 -->\r\n      <a-card class=\"management-card\" title=\"用户管理\">\r\n        <template #extra>\r\n          <a-button type=\"primary\" @click=\"showAddUserModal\">\r\n            <UserAddOutlined />\r\n            添加用户\r\n          </a-button>\r\n        </template>\r\n        \r\n        <a-table \r\n          :columns=\"userColumns\" \r\n          :data-source=\"users\" \r\n          :pagination=\"{ pageSize: 10 }\"\r\n          row-key=\"id\"\r\n        >\r\n          <template #bodyCell=\"{ column, record }\">\r\n            <template v-if=\"column.key === 'role'\">\r\n              <a-tag :color=\"getRoleColor(record.role)\">\r\n                {{ getRoleText(record.role) }}\r\n              </a-tag>\r\n            </template>\r\n            <template v-else-if=\"column.key === 'status'\">\r\n              <a-switch \r\n                v-model:checked=\"record.active\" \r\n                :checked-children=\"'启用'\" \r\n                :un-checked-children=\"'禁用'\"\r\n                @change=\"toggleUserStatus(record)\"\r\n              />\r\n            </template>\r\n            <template v-else-if=\"column.key === 'action'\">\r\n              <a-space>\r\n                <a-button type=\"text\" size=\"small\" @click=\"editUser(record)\">\r\n                  <EditOutlined />\r\n                </a-button>\r\n                <a-button type=\"text\" size=\"small\" @click=\"resetPassword(record)\">\r\n                  <KeyOutlined />\r\n                </a-button>\r\n                <a-popconfirm\r\n                  title=\"确定要删除这个用户吗？\"\r\n                  @confirm=\"deleteUser(record)\"\r\n                >\r\n                  <a-button type=\"text\" size=\"small\" danger>\r\n                    <DeleteOutlined />\r\n                  </a-button>\r\n                </a-popconfirm>\r\n              </a-space>\r\n            </template>\r\n          </template>\r\n        </a-table>\r\n      </a-card>\r\n\r\n      <!-- 角色权限管理 -->\r\n      <a-card class=\"management-card\" title=\"角色权限管理\">\r\n        <template #extra>\r\n          <a-button type=\"primary\" @click=\"showAddRoleModal\">\r\n            <TeamOutlined />\r\n            添加角色\r\n          </a-button>\r\n        </template>\r\n        \r\n        <div class=\"role-management\">\r\n          <div class=\"role-list\">\r\n            <div \r\n              v-for=\"role in roles\" \r\n              :key=\"role.id\"\r\n              class=\"role-item\"\r\n              :class=\"{ active: selectedRole?.id === role.id }\"\r\n              @click=\"selectRole(role)\"\r\n            >\r\n              <div class=\"role-info\">\r\n                <h4>{{ role.name }}</h4>\r\n                <p>{{ role.description }}</p>\r\n                <span class=\"user-count\">{{ role.userCount }} 个用户</span>\r\n              </div>\r\n              <div class=\"role-actions\">\r\n                <a-button type=\"text\" size=\"small\" @click.stop=\"editRole(role)\">\r\n                  <EditOutlined />\r\n                </a-button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"permissions-panel\" v-if=\"selectedRole\">\r\n            <h3>{{ selectedRole.name }} 权限设置</h3>\r\n            <a-tree\r\n              v-model:checkedKeys=\"selectedPermissions\"\r\n              checkable\r\n              :tree-data=\"permissionTree\"\r\n              :field-names=\"{ title: 'title', key: 'key', children: 'children' }\"\r\n              @check=\"onPermissionChange\"\r\n            />\r\n            <div class=\"permission-actions\">\r\n              <a-button type=\"primary\" @click=\"savePermissions\">\r\n                保存权限\r\n              </a-button>\r\n              <a-button @click=\"resetPermissions\">\r\n                重置\r\n              </a-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </a-card>\r\n\r\n      <!-- 系统设置 -->\r\n      <a-card class=\"management-card\" title=\"系统设置\">\r\n        <a-form :model=\"systemSettings\" layout=\"vertical\">\r\n          <a-row :gutter=\"24\">\r\n            <a-col :span=\"12\">\r\n              <a-form-item label=\"系统名称\">\r\n                <a-input v-model:value=\"systemSettings.systemName\" />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :span=\"12\">\r\n              <a-form-item label=\"系统版本\">\r\n                <a-input v-model:value=\"systemSettings.version\" disabled />\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n          \r\n          <a-row :gutter=\"24\">\r\n            <a-col :span=\"12\">\r\n              <a-form-item label=\"会话超时时间（分钟）\">\r\n                <a-input-number \r\n                  v-model:value=\"systemSettings.sessionTimeout\" \r\n                  :min=\"5\" \r\n                  :max=\"1440\"\r\n                />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :span=\"12\">\r\n              <a-form-item label=\"密码强度要求\">\r\n                <a-select v-model:value=\"systemSettings.passwordStrength\">\r\n                  <a-select-option value=\"low\">低</a-select-option>\r\n                  <a-select-option value=\"medium\">中</a-select-option>\r\n                  <a-select-option value=\"high\">高</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n          \r\n          <a-form-item>\r\n            <a-space>\r\n              <a-button type=\"primary\" @click=\"saveSystemSettings\">\r\n                保存设置\r\n              </a-button>\r\n              <a-button @click=\"resetSystemSettings\">\r\n                重置设置\r\n              </a-button>\r\n            </a-space>\r\n          </a-form-item>\r\n        </a-form>\r\n      </a-card>\r\n    </div>\r\n\r\n    <!-- 添加/编辑用户弹窗 -->\r\n    <a-modal\r\n      v-model:open=\"userModalVisible\"\r\n      :title=\"editingUser ? '编辑用户' : '添加用户'\"\r\n      width=\"600px\"\r\n      @ok=\"saveUser\"\r\n      @cancel=\"cancelUserEdit\"\r\n    >\r\n      <a-form :model=\"userForm\" :rules=\"userRules\" ref=\"userFormRef\" layout=\"vertical\">\r\n        <a-form-item name=\"username\" label=\"用户名\">\r\n          <a-input \r\n            v-model:value=\"userForm.username\" \r\n            :disabled=\"!!editingUser\"\r\n            placeholder=\"请输入用户名\"\r\n          />\r\n        </a-form-item>\r\n        \r\n        <a-form-item name=\"email\" label=\"邮箱\">\r\n          <a-input v-model:value=\"userForm.email\" placeholder=\"请输入邮箱\" />\r\n        </a-form-item>\r\n        \r\n        <a-form-item name=\"role\" label=\"角色\">\r\n          <a-select v-model:value=\"userForm.role\" placeholder=\"请选择角色\">\r\n            <a-select-option value=\"admin\">管理员</a-select-option>\r\n            <a-select-option value=\"operator\">操作员</a-select-option>\r\n            <a-select-option value=\"viewer\">观察者</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        \r\n        <a-form-item v-if=\"!editingUser\" name=\"password\" label=\"密码\">\r\n          <a-input-password v-model:value=\"userForm.password\" placeholder=\"请输入密码\" />\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed } from 'vue';\r\nimport { message } from 'ant-design-vue';\r\nimport {\r\n  CrownOutlined,\r\n  UserAddOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  KeyOutlined,\r\n  TeamOutlined\r\n} from '@ant-design/icons-vue';\r\n\r\n// 用户管理\r\nconst users = ref([\r\n  {\r\n    id: 1,\r\n    username: 'admin',\r\n    email: 'admin@system.com',\r\n    role: 'admin',\r\n    active: true,\r\n    lastLogin: '2024-01-20 14:30:00'\r\n  },\r\n  {\r\n    id: 2,\r\n    username: 'user1',\r\n    email: 'user1@system.com',\r\n    role: 'operator',\r\n    active: true,\r\n    lastLogin: '2024-01-20 10:15:00'\r\n  },\r\n  {\r\n    id: 3,\r\n    username: 'user2',\r\n    email: 'user2@system.com',\r\n    role: 'viewer',\r\n    active: false,\r\n    lastLogin: '2024-01-19 16:45:00'\r\n  }\r\n]);\r\n\r\nconst userColumns = [\r\n  {\r\n    title: '用户名',\r\n    dataIndex: 'username',\r\n    key: 'username',\r\n  },\r\n  {\r\n    title: '邮箱',\r\n    dataIndex: 'email',\r\n    key: 'email',\r\n  },\r\n  {\r\n    title: '角色',\r\n    dataIndex: 'role',\r\n    key: 'role',\r\n  },\r\n  {\r\n    title: '状态',\r\n    dataIndex: 'active',\r\n    key: 'status',\r\n  },\r\n  {\r\n    title: '最后登录',\r\n    dataIndex: 'lastLogin',\r\n    key: 'lastLogin',\r\n  },\r\n  {\r\n    title: '操作',\r\n    key: 'action',\r\n    width: 150,\r\n  },\r\n];\r\n\r\n// 角色管理\r\nconst roles = ref([\r\n  {\r\n    id: 1,\r\n    name: '管理员',\r\n    description: '拥有系统所有权限',\r\n    userCount: 1,\r\n    permissions: ['dashboard', 'assets', 'users', 'settings']\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '操作员',\r\n    description: '可以查看和操作资产信息',\r\n    userCount: 1,\r\n    permissions: ['dashboard', 'assets']\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '观察者',\r\n    description: '只能查看监控数据',\r\n    userCount: 1,\r\n    permissions: ['dashboard']\r\n  }\r\n]);\r\n\r\nconst selectedRole = ref(null);\r\nconst selectedPermissions = ref([]);\r\n\r\nconst permissionTree = [\r\n  {\r\n    title: '监控概览',\r\n    key: 'dashboard',\r\n    children: [\r\n      { title: '查看监控数据', key: 'dashboard.view' },\r\n      { title: '导出报表', key: 'dashboard.export' }\r\n    ]\r\n  },\r\n  {\r\n    title: '资产管理',\r\n    key: 'assets',\r\n    children: [\r\n      { title: '查看资产', key: 'assets.view' },\r\n      { title: '添加资产', key: 'assets.create' },\r\n      { title: '编辑资产', key: 'assets.edit' },\r\n      { title: '删除资产', key: 'assets.delete' }\r\n    ]\r\n  },\r\n  {\r\n    title: '用户管理',\r\n    key: 'users',\r\n    children: [\r\n      { title: '查看用户', key: 'users.view' },\r\n      { title: '添加用户', key: 'users.create' },\r\n      { title: '编辑用户', key: 'users.edit' },\r\n      { title: '删除用户', key: 'users.delete' }\r\n    ]\r\n  },\r\n  {\r\n    title: '系统设置',\r\n    key: 'settings',\r\n    children: [\r\n      { title: '查看设置', key: 'settings.view' },\r\n      { title: '修改设置', key: 'settings.edit' }\r\n    ]\r\n  }\r\n];\r\n\r\n// 用户表单\r\nconst userModalVisible = ref(false);\r\nconst editingUser = ref(null);\r\nconst userForm = reactive({\r\n  username: '',\r\n  email: '',\r\n  role: '',\r\n  password: ''\r\n});\r\n\r\nconst userRules = {\r\n  username: [\r\n    { required: true, message: '请输入用户名', trigger: 'blur' }\r\n  ],\r\n  email: [\r\n    { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n    { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\r\n  ],\r\n  role: [\r\n    { required: true, message: '请选择角色', trigger: 'change' }\r\n  ],\r\n  password: [\r\n    { required: true, message: '请输入密码', trigger: 'blur' },\r\n    { min: 6, message: '密码长度不能少于6位', trigger: 'blur' }\r\n  ]\r\n};\r\n\r\n// 系统设置\r\nconst systemSettings = reactive({\r\n  systemName: '运维监控系统',\r\n  version: 'v1.0.0',\r\n  sessionTimeout: 30,\r\n  passwordStrength: 'medium'\r\n});\r\n\r\n// 辅助函数\r\nconst getRoleColor = (role) => {\r\n  const colors = {\r\n    admin: 'red',\r\n    operator: 'blue',\r\n    viewer: 'green'\r\n  };\r\n  return colors[role] || 'default';\r\n};\r\n\r\nconst getRoleText = (role) => {\r\n  const texts = {\r\n    admin: '管理员',\r\n    operator: '操作员',\r\n    viewer: '观察者'\r\n  };\r\n  return texts[role] || role;\r\n};\r\n\r\n// 用户管理方法\r\nconst showAddUserModal = () => {\r\n  editingUser.value = null;\r\n  Object.assign(userForm, {\r\n    username: '',\r\n    email: '',\r\n    role: '',\r\n    password: ''\r\n  });\r\n  userModalVisible.value = true;\r\n};\r\n\r\nconst editUser = (user) => {\r\n  editingUser.value = user;\r\n  Object.assign(userForm, {\r\n    username: user.username,\r\n    email: user.email,\r\n    role: user.role,\r\n    password: ''\r\n  });\r\n  userModalVisible.value = true;\r\n};\r\n\r\nconst saveUser = () => {\r\n  if (editingUser.value) {\r\n    // 编辑用户\r\n    const index = users.value.findIndex(u => u.id === editingUser.value.id);\r\n    if (index !== -1) {\r\n      users.value[index] = {\r\n        ...users.value[index],\r\n        email: userForm.email,\r\n        role: userForm.role\r\n      };\r\n    }\r\n    message.success('用户信息更新成功');\r\n  } else {\r\n    // 添加新用户\r\n    const newUser = {\r\n      id: Date.now(),\r\n      username: userForm.username,\r\n      email: userForm.email,\r\n      role: userForm.role,\r\n      active: true,\r\n      lastLogin: '-'\r\n    };\r\n    users.value.push(newUser);\r\n    message.success('用户添加成功');\r\n  }\r\n  \r\n  userModalVisible.value = false;\r\n};\r\n\r\nconst cancelUserEdit = () => {\r\n  userModalVisible.value = false;\r\n};\r\n\r\nconst toggleUserStatus = (user) => {\r\n  message.success(`用户${user.username}已${user.active ? '启用' : '禁用'}`);\r\n};\r\n\r\nconst resetPassword = (user) => {\r\n  message.success(`已重置用户${user.username}的密码`);\r\n};\r\n\r\nconst deleteUser = (user) => {\r\n  const index = users.value.findIndex(u => u.id === user.id);\r\n  if (index !== -1) {\r\n    users.value.splice(index, 1);\r\n    message.success('用户删除成功');\r\n  }\r\n};\r\n\r\n// 角色权限管理方法\r\nconst selectRole = (role) => {\r\n  selectedRole.value = role;\r\n  selectedPermissions.value = [...role.permissions];\r\n};\r\n\r\nconst onPermissionChange = (checkedKeys) => {\r\n  selectedPermissions.value = checkedKeys;\r\n};\r\n\r\nconst savePermissions = () => {\r\n  if (selectedRole.value) {\r\n    selectedRole.value.permissions = [...selectedPermissions.value];\r\n    message.success('权限保存成功');\r\n  }\r\n};\r\n\r\nconst resetPermissions = () => {\r\n  if (selectedRole.value) {\r\n    selectedPermissions.value = [...selectedRole.value.permissions];\r\n  }\r\n};\r\n\r\n// 系统设置方法\r\nconst saveSystemSettings = () => {\r\n  message.success('系统设置保存成功');\r\n};\r\n\r\nconst resetSystemSettings = () => {\r\n  Object.assign(systemSettings, {\r\n    systemName: '运维监控系统',\r\n    version: 'v1.0.0',\r\n    sessionTimeout: 30,\r\n    passwordStrength: 'medium'\r\n  });\r\n  message.info('系统设置已重置');\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-management {\r\n  padding: 24px;\r\n  background: #f5f5f5;\r\n  min-height: 100vh;\r\n}\r\n\r\n.page-header {\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.page-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: #1890ff;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.title-icon {\r\n  font-size: 28px;\r\n  color: #faad14;\r\n}\r\n\r\n.page-desc {\r\n  color: #666;\r\n  font-size: 14px;\r\n  margin: 0;\r\n}\r\n\r\n.admin-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n\r\n.management-card {\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n:deep(.management-card .ant-card-head) {\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n:deep(.management-card .ant-card-head-title) {\r\n  font-weight: 600;\r\n  color: #262626;\r\n}\r\n\r\n/* 角色管理样式 */\r\n.role-management {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 24px;\r\n  min-height: 400px;\r\n}\r\n\r\n.role-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.role-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 16px;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.role-item:hover {\r\n  border-color: #1890ff;\r\n  box-shadow: 0 2px 8px rgba(24, 144, 255, 0.1);\r\n}\r\n\r\n.role-item.active {\r\n  border-color: #1890ff;\r\n  background: #f0f8ff;\r\n}\r\n\r\n.role-info h4 {\r\n  margin: 0 0 4px 0;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n}\r\n\r\n.role-info p {\r\n  margin: 0 0 8px 0;\r\n  color: #666;\r\n  font-size: 12px;\r\n}\r\n\r\n.user-count {\r\n  background: #f0f0f0;\r\n  color: #666;\r\n  padding: 2px 8px;\r\n  border-radius: 12px;\r\n  font-size: 11px;\r\n}\r\n\r\n.permissions-panel {\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n}\r\n\r\n.permissions-panel h3 {\r\n  margin: 0 0 16px 0;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n}\r\n\r\n.permission-actions {\r\n  margin-top: 16px;\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .admin-management {\r\n    padding: 16px;\r\n  }\r\n  \r\n  .role-management {\r\n    grid-template-columns: 1fr;\r\n    gap: 16px;\r\n  }\r\n  \r\n  .role-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 8px;\r\n  }\r\n  \r\n  .role-actions {\r\n    align-self: flex-end;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}