{"ast":null,"code":"import { ref, reactive, onMounted, computed } from 'vue';\nimport { message } from 'ant-design-vue';\nimport { useRouter } from 'vue-router';\nimport dayjs from 'dayjs';\nimport { businessAPI } from '@/api/businessManagement';\nimport { AppstoreOutlined, PlusOutlined, ExportOutlined, SearchOutlined, ReloadOutlined, TeamOutlined, UserOutlined, CalendarOutlined, LinkOutlined, EyeOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons-vue';\nexport default {\n  __name: 'BusinessList',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n\n    // 响应式数据\n    const businessList = ref([]);\n    const selectedRowKeys = ref([]);\n    const modalVisible = ref(false);\n    const isEdit = ref(false);\n    const currentRecord = ref(null);\n    const users = ref([]);\n    const formRef = ref();\n\n    // 搜索表单\n    const searchForm = reactive({\n      name: '',\n      dateRange: []\n    });\n\n    // 表单数据\n    const formData = reactive({\n      name: '',\n      responsible_person: '',\n      online_date: null,\n      access_url: '',\n      description: '',\n      status: 'active'\n    });\n\n    // 表单验证规则\n    const formRules = {\n      name: [{\n        required: true,\n        message: '请输入业务名称',\n        trigger: 'blur'\n      }],\n      responsible_person: [{\n        required: true,\n        message: '请选择责任人',\n        trigger: 'change'\n      }],\n      online_date: [{\n        required: true,\n        message: '请选择上线日期',\n        trigger: 'change'\n      }],\n      access_url: [{\n        validator: (rule, value) => {\n          if (!value || value.trim() === '') {\n            return Promise.resolve();\n          }\n          const urlPattern = /^(https?:\\/\\/)([\\da-z.-]+\\.[a-z.]{2,6}|127.0.0.1|\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})(:\\d+)?([/\\w .-]*)*\\/?$/;\n          if (!urlPattern.test(value)) {\n            return Promise.reject(new Error('请输入有效的URL地址'));\n          }\n          return Promise.resolve();\n        },\n        trigger: 'blur'\n      }]\n    };\n\n    // 分页配置\n    const pagination = reactive({\n      current: 1,\n      pageSize: 10,\n      total: 0,\n      showSizeChanger: true,\n      showQuickJumper: true,\n      showTotal: total => `共 ${total} 条记录`\n    });\n\n    // 表格列配置\n    const columns = [{\n      title: '业务名称',\n      dataIndex: 'name',\n      key: 'name',\n      width: 200,\n      sorter: true\n    }, {\n      title: '责任人',\n      dataIndex: 'responsible_person',\n      key: 'responsible_person',\n      width: 120\n    }, {\n      title: '上线日期',\n      dataIndex: 'online_date',\n      key: 'online_date',\n      width: 150,\n      sorter: true\n    }, {\n      title: '访问地址',\n      dataIndex: 'access_url',\n      key: 'access_url',\n      width: 150\n    }, {\n      title: '创建时间',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      width: 150,\n      sorter: true,\n      customRender: ({\n        text\n      }) => formatDate(text)\n    }, {\n      title: '操作',\n      dataIndex: 'action',\n      key: 'action',\n      width: 120,\n      fixed: 'right'\n    }];\n\n    // 行选择配置\n    const rowSelection = {\n      selectedRowKeys,\n      onChange: keys => {\n        selectedRowKeys.value = keys;\n      }\n    };\n\n    // 计算属性\n    const modalTitle = computed(() => {\n      return isEdit.value ? '编辑业务' : '新增业务';\n    });\n\n    // 方法\n    const fetchBusinessList = async () => {\n      try {\n        const params = {\n          page: pagination.current,\n          page_size: pagination.pageSize,\n          ...searchForm\n        };\n        if (searchForm.dateRange && searchForm.dateRange.length === 2) {\n          params.start_date = dayjs(searchForm.dateRange[0]).format('YYYY-MM-DD');\n          params.end_date = dayjs(searchForm.dateRange[1]).format('YYYY-MM-DD');\n        }\n        const response = await businessAPI.getBusinessList(params);\n        businessList.value = response.data.results || [];\n        pagination.total = response.data.count || 0;\n      } catch (error) {\n        message.error('获取业务列表失败');\n      }\n    };\n    const fetchUsers = async () => {\n      try {\n        const response = await businessAPI.getUsers();\n        // 处理分页数据结构\n        users.value = response.data?.results || response.results || response.data || [];\n      } catch (error) {\n        console.error('获取用户列表失败:', error);\n      }\n    };\n    const handleSearch = () => {\n      pagination.current = 1;\n      fetchBusinessList();\n    };\n    const handleReset = () => {\n      Object.assign(searchForm, {\n        name: '',\n        dateRange: []\n      });\n      handleSearch();\n    };\n    const handleTableChange = (pag, filters, sorter) => {\n      pagination.current = pag.current;\n      pagination.pageSize = pag.pageSize;\n      fetchBusinessList();\n    };\n    const showAddModal = () => {\n      isEdit.value = false;\n      currentRecord.value = null;\n      resetForm();\n      modalVisible.value = true;\n    };\n    const editBusiness = record => {\n      isEdit.value = true;\n      currentRecord.value = record;\n      Object.assign(formData, {\n        name: record.name,\n        responsible_person: record.responsible_person,\n        online_date: record.online_date ? dayjs(record.online_date) : null,\n        access_url: record.access_url,\n        description: record.description,\n        status: record.status || 'active'\n      });\n      modalVisible.value = true;\n    };\n    const handleSubmit = async () => {\n      try {\n        await formRef.value.validate();\n        const submitData = {\n          ...formData,\n          online_date: formData.online_date ? dayjs(formData.online_date).format('YYYY-MM-DD') : null,\n          access_url: formData.access_url && formData.access_url.trim() ? formData.access_url.trim() : null\n        };\n        if (isEdit.value) {\n          await businessAPI.updateBusiness(currentRecord.value.id, submitData);\n          message.success('业务更新成功');\n        } else {\n          await businessAPI.createBusiness(submitData);\n          message.success('业务创建成功');\n        }\n        modalVisible.value = false;\n        fetchBusinessList();\n      } catch (error) {\n        if (error.errorFields) {\n          message.error('请检查表单输入');\n        } else {\n          message.error(isEdit.value ? '业务更新失败' : '业务创建失败');\n        }\n      }\n    };\n    const handleCancel = () => {\n      modalVisible.value = false;\n      resetForm();\n    };\n    const resetForm = () => {\n      Object.assign(formData, {\n        name: '',\n        responsible_person: '',\n        online_date: null,\n        access_url: '',\n        description: '',\n        status: 'active'\n      });\n      formRef.value?.resetFields();\n    };\n    const deleteBusiness = async record => {\n      try {\n        await businessAPI.deleteBusiness(record.id);\n        message.success('删除成功');\n        fetchBusinessList();\n      } catch (error) {\n        message.error('删除失败');\n      }\n    };\n    const viewDetail = record => {\n      router.push({\n        name: 'businessDetail',\n        params: {\n          id: record.id\n        }\n      });\n    };\n    const openUrl = url => {\n      if (url) {\n        window.open(url, '_blank');\n      }\n    };\n    const handleExport = async () => {\n      try {\n        const response = await businessAPI.exportBusiness(searchForm);\n        const blob = new Blob([response.data], {\n          type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        });\n        const url = window.URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `业务列表_${dayjs().format('YYYY-MM-DD')}.xlsx`;\n        link.click();\n        window.URL.revokeObjectURL(url);\n        message.success('导出成功');\n      } catch (error) {\n        message.error('导出失败');\n      }\n    };\n    const formatDate = date => {\n      return date ? dayjs(date).format('YYYY-MM-DD') : '-';\n    };\n    const filterOption = (input, option) => {\n      return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    };\n\n    // 组件挂载时获取数据\n    onMounted(() => {\n      fetchBusinessList();\n      fetchUsers();\n    });\n    const __returned__ = {\n      router,\n      businessList,\n      selectedRowKeys,\n      modalVisible,\n      isEdit,\n      currentRecord,\n      users,\n      formRef,\n      searchForm,\n      formData,\n      formRules,\n      pagination,\n      columns,\n      rowSelection,\n      modalTitle,\n      fetchBusinessList,\n      fetchUsers,\n      handleSearch,\n      handleReset,\n      handleTableChange,\n      showAddModal,\n      editBusiness,\n      handleSubmit,\n      handleCancel,\n      resetForm,\n      deleteBusiness,\n      viewDetail,\n      openUrl,\n      handleExport,\n      formatDate,\n      filterOption,\n      ref,\n      reactive,\n      onMounted,\n      computed,\n      get message() {\n        return message;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get dayjs() {\n        return dayjs;\n      },\n      get businessAPI() {\n        return businessAPI;\n      },\n      get AppstoreOutlined() {\n        return AppstoreOutlined;\n      },\n      get PlusOutlined() {\n        return PlusOutlined;\n      },\n      get ExportOutlined() {\n        return ExportOutlined;\n      },\n      get SearchOutlined() {\n        return SearchOutlined;\n      },\n      get ReloadOutlined() {\n        return ReloadOutlined;\n      },\n      get TeamOutlined() {\n        return TeamOutlined;\n      },\n      get UserOutlined() {\n        return UserOutlined;\n      },\n      get CalendarOutlined() {\n        return CalendarOutlined;\n      },\n      get LinkOutlined() {\n        return LinkOutlined;\n      },\n      get EyeOutlined() {\n        return EyeOutlined;\n      },\n      get EditOutlined() {\n        return EditOutlined;\n      },\n      get DeleteOutlined() {\n        return DeleteOutlined;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","computed","message","useRouter","dayjs","businessAPI","AppstoreOutlined","PlusOutlined","ExportOutlined","SearchOutlined","ReloadOutlined","TeamOutlined","UserOutlined","CalendarOutlined","LinkOutlined","EyeOutlined","EditOutlined","DeleteOutlined","router","businessList","selectedRowKeys","modalVisible","isEdit","currentRecord","users","formRef","searchForm","name","dateRange","formData","responsible_person","online_date","access_url","description","status","formRules","required","trigger","validator","rule","value","trim","Promise","resolve","urlPattern","test","reject","Error","pagination","current","pageSize","total","showSizeChanger","showQuickJumper","showTotal","columns","title","dataIndex","key","width","sorter","customRender","text","formatDate","fixed","rowSelection","onChange","keys","modalTitle","fetchBusinessList","params","page","page_size","length","start_date","format","end_date","response","getBusinessList","data","results","count","error","fetchUsers","getUsers","console","handleSearch","handleReset","Object","assign","handleTableChange","pag","filters","showAddModal","resetForm","editBusiness","record","handleSubmit","validate","submitData","updateBusiness","id","success","createBusiness","errorFields","handleCancel","resetFields","deleteBusiness","viewDetail","push","openUrl","url","window","open","handleExport","exportBusiness","blob","Blob","type","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","date","filterOption","input","option","children","toLowerCase","indexOf"],"sources":["E:/A_project/yuanchi/AIops/frontend/src/views/business/BusinessList.vue"],"sourcesContent":["<template>\r\n  <div class=\"business-table-container\">\r\n    <!-- 表格头部 -->\r\n    <div class=\"table-header\">\r\n      <div class=\"table-title\">\r\n        <h3>\r\n          <AppstoreOutlined />\r\n          业务列表\r\n        </h3>\r\n        <div class=\"stats-inline\">\r\n          <span class=\"stat-item total\">\r\n            总业务 <strong>{{ businessList.length || 0 }}</strong>个\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"table-actions\">\r\n        <a-space size=\"middle\">\r\n          <a-button type=\"primary\" @click=\"showAddModal\">\r\n            <template #icon><PlusOutlined /></template>\r\n            新增业务\r\n          </a-button>\r\n          <a-button @click=\"handleExport\">\r\n            <template #icon><ExportOutlined /></template>\r\n            导出数据\r\n          </a-button>\r\n        </a-space>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 查询筛选区域 -->\r\n    <div class=\"filter-section\">\r\n      <div class=\"filter-header\">\r\n        <h4 class=\"filter-title\">\r\n          <SearchOutlined class=\"title-icon\" />\r\n          查询筛选\r\n        </h4>\r\n        <div class=\"filter-actions\">\r\n          <a-space size=\"middle\">\r\n            <a-button type=\"primary\" @click=\"handleSearch\">\r\n              <template #icon><SearchOutlined /></template>\r\n              搜索\r\n            </a-button>\r\n            <a-button @click=\"handleReset\">\r\n              <template #icon><ReloadOutlined /></template>\r\n              重置\r\n            </a-button>\r\n          </a-space>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter-content\">\r\n        <a-row :gutter=\"[12, 8]\">\r\n          <a-col :xl=\"8\" :lg=\"8\" :md=\"12\" :sm=\"24\">\r\n            <div class=\"filter-item\">\r\n              <label class=\"filter-label\">业务名称</label>\r\n              <a-input\r\n                v-model:value=\"searchForm.name\"\r\n                placeholder=\"输入业务名称\"\r\n                allow-clear\r\n              >\r\n                <template #prefix><SearchOutlined /></template>\r\n              </a-input>\r\n            </div>\r\n          </a-col>\r\n\r\n          <a-col :xl=\"8\" :lg=\"8\" :md=\"12\" :sm=\"24\">\r\n            <div class=\"filter-item\">\r\n              <label class=\"filter-label\">上线日期</label>\r\n              <a-range-picker\r\n                v-model:value=\"searchForm.dateRange\"\r\n                format=\"YYYY-MM-DD\"\r\n                style=\"width: 100%\"\r\n              />\r\n            </div>\r\n          </a-col>\r\n        </a-row>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 业务列表表格 -->\r\n    <a-table\r\n      :columns=\"columns\"\r\n      :data-source=\"businessList\"\r\n      :pagination=\"pagination\"\r\n      :row-selection=\"rowSelection\"\r\n      :scroll=\"{ x: 1200 }\"\r\n      size=\"middle\"\r\n      @change=\"handleTableChange\"\r\n    >\r\n      <!-- 业务名称列 -->\r\n      <template #bodyCell=\"{ column, record }\">\r\n        <template v-if=\"column.dataIndex === 'name'\">\r\n          <div class=\"business-name\">\r\n            <a-button type=\"link\" @click=\"viewDetail(record)\">\r\n              {{ record.name }}\r\n            </a-button>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- 责任部门|责任人列 -->\r\n        <template v-else-if=\"column.dataIndex === 'responsibility'\">\r\n          <div class=\"responsibility-info\">\r\n            <div class=\"department\">\r\n                  <TeamOutlined class=\"icon\" />\r\n                  {{ record.department_name }}\r\n                </div>\r\n                <div class=\"person\">\r\n                  <UserOutlined class=\"icon\" />\r\n                  {{ record.responsible_person }}\r\n                </div>\r\n              </div>\r\n            </template>\r\n\r\n            <!-- 上线日期列 -->\r\n            <template v-else-if=\"column.dataIndex === 'online_date'\">\r\n              <div class=\"date-info\">\r\n                <CalendarOutlined class=\"icon\" />\r\n                {{ formatDate(record.online_date) }}\r\n              </div>\r\n            </template>\r\n\r\n            <!-- 访问地址列 -->\r\n            <template v-else-if=\"column.dataIndex === 'access_url'\">\r\n              <div class=\"url-info\">\r\n                <a-button\r\n                  v-if=\"record.access_url\"\r\n                  type=\"link\"\r\n                  size=\"small\"\r\n                  @click=\"openUrl(record.access_url)\"\r\n                >\r\n                  <template #icon><LinkOutlined /></template>\r\n                  {{record.access_url}}\r\n                </a-button>\r\n                <span v-else class=\"no-url\">-</span>\r\n              </div>\r\n            </template>\r\n\r\n            <!-- 操作列 -->\r\n            <template v-else-if=\"column.dataIndex === 'action'\">\r\n              <div class=\"action-buttons\">\r\n                <a-tooltip title=\"查看详情\">\r\n                  <a-button \r\n                    type=\"text\" \r\n                    size=\"small\" \r\n                    @click=\"viewDetail(record)\"\r\n                    class=\"action-btn\"\r\n                  >\r\n                    <template #icon><EyeOutlined /></template>\r\n                  </a-button>\r\n                </a-tooltip>\r\n                <a-tooltip title=\"编辑\">\r\n                  <a-button \r\n                    type=\"text\" \r\n                    size=\"small\" \r\n                    @click=\"editBusiness(record)\"\r\n                    class=\"action-btn\"\r\n                  >\r\n                    <template #icon><EditOutlined /></template>\r\n                  </a-button>\r\n                </a-tooltip>\r\n                <a-popconfirm\r\n                  title=\"确定要删除这个业务吗？\"\r\n                  @confirm=\"deleteBusiness(record)\"\r\n                  ok-text=\"确定\"\r\n                  cancel-text=\"取消\"\r\n                >\r\n                  <a-tooltip title=\"删除\">\r\n                    <a-button \r\n                      type=\"text\" \r\n                      size=\"small\" \r\n                      danger\r\n                      class=\"action-btn\"\r\n                    >\r\n                      <template #icon><DeleteOutlined /></template>\r\n                    </a-button>\r\n                  </a-tooltip>\r\n                </a-popconfirm>\r\n              </div>\r\n            </template>\r\n          </template>\r\n        </a-table>\r\n\r\n    <!-- 新增/编辑业务模态框 -->\r\n    <a-modal\r\n      v-model:open=\"modalVisible\"\r\n      :title=\"modalTitle\"\r\n      width=\"800px\"\r\n      @ok=\"handleSubmit\"\r\n      @cancel=\"handleCancel\"\r\n    >\r\n      <a-form\r\n        ref=\"formRef\"\r\n        :model=\"formData\"\r\n        :rules=\"formRules\"\r\n        layout=\"vertical\"\r\n      >\r\n        <a-row :gutter=\"16\">\r\n          <a-col :span=\"12\">\r\n            <a-form-item label=\"业务名称\" name=\"name\">\r\n              <a-input\r\n                v-model:value=\"formData.name\"\r\n                placeholder=\"请输入业务名称\"\r\n              />\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :span=\"12\">\r\n            <a-form-item label=\"上线日期\" name=\"online_date\">\r\n              <a-date-picker\r\n                v-model:value=\"formData.online_date\"\r\n                style=\"width: 100%\"\r\n                format=\"YYYY-MM-DD\"\r\n              />\r\n            </a-form-item>\r\n          </a-col>\r\n        </a-row>\r\n\r\n        <a-row :gutter=\"16\">\r\n          <a-col :span=\"12\">\r\n            <a-form-item label=\"责任人\" name=\"responsible_person\">\r\n              <a-select\r\n                v-model:value=\"formData.responsible_person\"\r\n                placeholder=\"请选择责任人\"\r\n                show-search\r\n                :filter-option=\"filterOption\"\r\n              >\r\n                <a-select-option\r\n                  v-for=\"user in users\"\r\n                  :key=\"user.id\"\r\n                  :value=\"user.name\"\r\n                >\r\n                  {{ user.name }} ({{ user.employee_id }})\r\n                </a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n        </a-row>\r\n\r\n        <a-form-item label=\"访问地址\" name=\"access_url\">\r\n          <a-input\r\n            v-model:value=\"formData.access_url\"\r\n            placeholder=\"请输入访问地址，如：https://example.com\"\r\n          />\r\n        </a-form-item>\r\n\r\n        <a-form-item label=\"业务描述\" name=\"description\">\r\n          <a-textarea\r\n            v-model:value=\"formData.description\"\r\n            placeholder=\"请输入业务描述\"\r\n            :rows=\"3\"\r\n          />\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted, computed } from 'vue';\r\nimport { message } from 'ant-design-vue';\r\nimport { useRouter } from 'vue-router';\r\nimport dayjs from 'dayjs';\r\nimport { businessAPI } from '@/api/businessManagement';\r\nimport {\r\n  AppstoreOutlined,\r\n  PlusOutlined,\r\n  ExportOutlined,\r\n  SearchOutlined,\r\n  ReloadOutlined,\r\n  TeamOutlined,\r\n  UserOutlined,\r\n  CalendarOutlined,\r\n  LinkOutlined,\r\n  EyeOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined\r\n} from '@ant-design/icons-vue';\r\n\r\nconst router = useRouter();\r\n\r\n// 响应式数据\r\nconst businessList = ref([]);\r\nconst selectedRowKeys = ref([]);\r\nconst modalVisible = ref(false);\r\nconst isEdit = ref(false);\r\nconst currentRecord = ref(null);\r\nconst users = ref([]);\r\nconst formRef = ref();\r\n\r\n// 搜索表单\r\nconst searchForm = reactive({\r\n  name: '',\r\n  dateRange: []\r\n});\r\n\r\n// 表单数据\r\nconst formData = reactive({\r\n  name: '',\r\n  responsible_person: '',\r\n  online_date: null,\r\n  access_url: '',\r\n  description: '',\r\n  status: 'active'\r\n});\r\n\r\n// 表单验证规则\r\nconst formRules = {\r\n  name: [{ required: true, message: '请输入业务名称', trigger: 'blur' }],\r\n  responsible_person: [{ required: true, message: '请选择责任人', trigger: 'change' }],\r\n  online_date: [{ required: true, message: '请选择上线日期', trigger: 'change' }],\r\n  access_url: [\r\n    { \r\n      validator: (rule, value) => {\r\n        if (!value || value.trim() === '') {\r\n          return Promise.resolve();\r\n        }\r\n        const urlPattern = /^(https?:\\/\\/)([\\da-z.-]+\\.[a-z.]{2,6}|127.0.0.1|\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})(:\\d+)?([/\\w .-]*)*\\/?$/;\r\n        if (!urlPattern.test(value)) {\r\n          return Promise.reject(new Error('请输入有效的URL地址'));\r\n        }\r\n        return Promise.resolve();\r\n      },\r\n      trigger: 'blur'\r\n    }\r\n  ]\r\n};\r\n\r\n// 分页配置\r\nconst pagination = reactive({\r\n  current: 1,\r\n  pageSize: 10,\r\n  total: 0,\r\n  showSizeChanger: true,\r\n  showQuickJumper: true,\r\n  showTotal: (total) => `共 ${total} 条记录`\r\n});\r\n\r\n// 表格列配置\r\nconst columns = [\r\n  {\r\n    title: '业务名称',\r\n    dataIndex: 'name',\r\n    key: 'name',\r\n    width: 200,\r\n    sorter: true\r\n  },\r\n  {\r\n    title: '责任人',\r\n    dataIndex: 'responsible_person',\r\n    key: 'responsible_person',\r\n    width: 120\r\n  },\r\n  {\r\n    title: '上线日期',\r\n    dataIndex: 'online_date',\r\n    key: 'online_date',\r\n    width: 150,\r\n    sorter: true\r\n  },\r\n  {\r\n    title: '访问地址',\r\n    dataIndex: 'access_url',\r\n    key: 'access_url',\r\n    width: 150\r\n  },\r\n  {\r\n    title: '创建时间',\r\n    dataIndex: 'created_at',\r\n    key: 'created_at',\r\n    width: 150,\r\n    sorter: true,\r\n    customRender: ({ text }) => formatDate(text)\r\n  },\r\n  {\r\n    title: '操作',\r\n    dataIndex: 'action',\r\n    key: 'action',\r\n    width: 120,\r\n    fixed: 'right'\r\n  }\r\n];\r\n\r\n// 行选择配置\r\nconst rowSelection = {\r\n  selectedRowKeys,\r\n  onChange: (keys) => {\r\n    selectedRowKeys.value = keys;\r\n  }\r\n};\r\n\r\n// 计算属性\r\nconst modalTitle = computed(() => {\r\n  return isEdit.value ? '编辑业务' : '新增业务';\r\n});\r\n\r\n// 方法\r\nconst fetchBusinessList = async () => {\r\n  try {\r\n    const params = {\r\n      page: pagination.current,\r\n      page_size: pagination.pageSize,\r\n      ...searchForm\r\n    };\r\n    \r\n    if (searchForm.dateRange && searchForm.dateRange.length === 2) {\r\n      params.start_date = dayjs(searchForm.dateRange[0]).format('YYYY-MM-DD');\r\n      params.end_date = dayjs(searchForm.dateRange[1]).format('YYYY-MM-DD');\r\n    }\r\n    \r\n    const response = await businessAPI.getBusinessList(params);\r\n    businessList.value = response.data.results || [];\r\n    pagination.total = response.data.count || 0;\r\n  } catch (error) {\r\n    message.error('获取业务列表失败');\r\n  }\r\n};\r\n\r\n\r\n\r\nconst fetchUsers = async () => {\r\n  try {\r\n    const response = await businessAPI.getUsers();\r\n    // 处理分页数据结构\r\n    users.value = response.data?.results || response.results || response.data || [];\r\n  } catch (error) {\r\n    console.error('获取用户列表失败:', error);\r\n  }\r\n};\r\n\r\n\r\n\r\nconst handleSearch = () => {\r\n  pagination.current = 1;\r\n  fetchBusinessList();\r\n};\r\n\r\nconst handleReset = () => {\r\n  Object.assign(searchForm, {\r\n    name: '',\r\n    dateRange: []\r\n  });\r\n  handleSearch();\r\n};\r\n\r\nconst handleTableChange = (pag, filters, sorter) => {\r\n  pagination.current = pag.current;\r\n  pagination.pageSize = pag.pageSize;\r\n  fetchBusinessList();\r\n};\r\n\r\nconst showAddModal = () => {\r\n  isEdit.value = false;\r\n  currentRecord.value = null;\r\n  resetForm();\r\n  modalVisible.value = true;\r\n};\r\n\r\nconst editBusiness = (record) => {\r\n  isEdit.value = true;\r\n  currentRecord.value = record;\r\n  Object.assign(formData, {\r\n    name: record.name,\r\n    responsible_person: record.responsible_person,\r\n    online_date: record.online_date ? dayjs(record.online_date) : null,\r\n    access_url: record.access_url,\r\n    description: record.description,\r\n    status: record.status || 'active'\r\n  });\r\n  modalVisible.value = true;\r\n};\r\n\r\nconst handleSubmit = async () => {\r\n  try {\r\n    await formRef.value.validate();\r\n    \r\n    const submitData = {\r\n      ...formData,\r\n      online_date: formData.online_date ? dayjs(formData.online_date).format('YYYY-MM-DD') : null,\r\n      access_url: formData.access_url && formData.access_url.trim() ? formData.access_url.trim() : null\r\n    };\r\n    \r\n    if (isEdit.value) {\r\n      await businessAPI.updateBusiness(currentRecord.value.id, submitData);\r\n      message.success('业务更新成功');\r\n    } else {\r\n      await businessAPI.createBusiness(submitData);\r\n      message.success('业务创建成功');\r\n    }\r\n    \r\n    modalVisible.value = false;\r\n    fetchBusinessList();\r\n  } catch (error) {\r\n    if (error.errorFields) {\r\n      message.error('请检查表单输入');\r\n    } else {\r\n      message.error(isEdit.value ? '业务更新失败' : '业务创建失败');\r\n    }\r\n  }\r\n};\r\n\r\nconst handleCancel = () => {\r\n  modalVisible.value = false;\r\n  resetForm();\r\n};\r\n\r\nconst resetForm = () => {\r\n  Object.assign(formData, {\r\n    name: '',\r\n    responsible_person: '',\r\n    online_date: null,\r\n    access_url: '',\r\n    description: '',\r\n    status: 'active'\r\n  });\r\n  formRef.value?.resetFields();\r\n};\r\n\r\nconst deleteBusiness = async (record) => {\r\n  try {\r\n    await businessAPI.deleteBusiness(record.id);\r\n    message.success('删除成功');\r\n    fetchBusinessList();\r\n  } catch (error) {\r\n    message.error('删除失败');\r\n  }\r\n};\r\n\r\nconst viewDetail = (record) => {\r\n  router.push({\r\n    name: 'businessDetail',\r\n    params: { id: record.id }\r\n  });\r\n};\r\n\r\nconst openUrl = (url) => {\r\n  if (url) {\r\n    window.open(url, '_blank');\r\n  }\r\n};\r\n\r\nconst handleExport = async () => {\r\n  try {\r\n    const response = await businessAPI.exportBusiness(searchForm);\r\n    const blob = new Blob([response.data], {\r\n      type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\r\n    });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `业务列表_${dayjs().format('YYYY-MM-DD')}.xlsx`;\r\n    link.click();\r\n    window.URL.revokeObjectURL(url);\r\n    message.success('导出成功');\r\n  } catch (error) {\r\n    message.error('导出失败');\r\n  }\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  return date ? dayjs(date).format('YYYY-MM-DD') : '-';\r\n};\r\n\r\nconst filterOption = (input, option) => {\r\n  return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\r\n};\r\n\r\n// 组件挂载时获取数据\r\nonMounted(() => {\r\n  fetchBusinessList();\r\n  fetchUsers();\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.business-table-container {\r\n  min-height: 100vh;\r\n}\r\n\r\n/* 表格头部样式 */\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  background: white;\r\n  border-bottom: 1px solid #e8e8e8;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.table-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.table-title h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #262626;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.stats-inline {\r\n  display: flex;\r\n  gap: 16px;\r\n}\r\n\r\n.stat-item {\r\n  font-size: 13px;\r\n  color: #8c8c8c;\r\n}\r\n\r\n.stat-item strong {\r\n  color: #1890ff;\r\n}\r\n\r\n.table-actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n/* 筛选区域样式 */\r\n.filter-section {\r\n  padding: 12px 16px;\r\n  background: #f8f9fa;\r\n  border-bottom: 1px solid #e8e8e8;\r\n}\r\n\r\n.filter-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.filter-title {\r\n  margin: 0;\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: #262626;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.title-icon {\r\n  color: #1890ff;\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.filter-content {\r\n  margin: 0;\r\n}\r\n\r\n.filter-item {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.filter-label {\r\n  display: block;\r\n  margin-bottom: 6px;\r\n  font-weight: 500;\r\n  color: #262626;\r\n  font-size: 13px;\r\n}\r\n\r\n/* 业务信息样式 */\r\n.business-name {\r\n  font-weight: 500;\r\n}\r\n\r\n.responsibility-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.department,\r\n.person {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 12px;\r\n}\r\n\r\n.department {\r\n  color: #1890ff;\r\n}\r\n\r\n.person {\r\n  color: #52c41a;\r\n}\r\n\r\n.icon {\r\n  margin-right: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n.date-info {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #666;\r\n}\r\n\r\n.url-info {\r\n  text-align: center;\r\n}\r\n\r\n.no-url {\r\n  color: #ccc;\r\n}\r\n\r\n/* 操作按钮样式 */\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 4px;\r\n  align-items: center;\r\n}\r\n\r\n.action-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.action-btn:hover {\r\n  background-color: #f5f5f5;\r\n  transform: scale(1.1);\r\n}\r\n\r\n.action-btn.danger:hover {\r\n  background-color: #fff2f0;\r\n  color: #ff4d4f;\r\n}\r\n\r\n.action-btn .anticon {\r\n  font-size: 14px;\r\n}\r\n\r\n/* 表格样式优化 */\r\n:deep(.ant-table) {\r\n  font-size: 13px;\r\n}\r\n\r\n:deep(.ant-table-thead > tr > th) {\r\n  background: #fafafa;\r\n  font-weight: 600;\r\n  color: #262626;\r\n}\r\n\r\n:deep(.ant-table-tbody > tr:hover > td) {\r\n  background: #f5f5f5;\r\n}\r\n\r\n:deep(.ant-table-row-selected) {\r\n  background: #e6f7ff;\r\n}\r\n\r\n:deep(.ant-table-row-selected:hover > td) {\r\n  background: #bae7ff;\r\n}\r\n\r\n:deep(.ant-pagination) {\r\n  margin: 16px 0;\r\n  text-align: right;\r\n}\r\n\r\n:deep(.ant-tag) {\r\n  margin: 0;\r\n  border-radius: 4px;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .business-table-container {\r\n    padding: 12px;\r\n  }\r\n  \r\n  .table-header {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .table-title {\r\n    justify-content: center;\r\n  }\r\n  \r\n  .responsibility-info {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .action-buttons {\r\n    flex-direction: column;\r\n    gap: 2px;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}