{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card-header\"\n};\nconst _hoisted_2 = {\n  class: \"card-title\"\n};\nconst _hoisted_3 = {\n  class: \"card-actions\"\n};\nconst _hoisted_4 = {\n  class: \"card-content\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"chart-container\"\n};\nconst _hoisted_6 = {\n  class: \"item-info\"\n};\nconst _hoisted_7 = {\n  class: \"item-name\"\n};\nconst _hoisted_8 = {\n  class: \"item-value\"\n};\nconst _hoisted_9 = {\n  class: \"item-bar\"\n};\nconst _hoisted_10 = {\n  class: \"list-container\"\n};\nconst _hoisted_11 = {\n  class: \"item-rank\"\n};\nconst _hoisted_12 = {\n  class: \"item-content\"\n};\nconst _hoisted_13 = {\n  class: \"item-name\"\n};\nconst _hoisted_14 = {\n  class: \"item-detail\"\n};\nconst _hoisted_15 = {\n  class: \"item-value\"\n};\nconst _hoisted_16 = {\n  key: 2,\n  class: \"empty-state\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_tooltip = _resolveComponent(\"a-tooltip\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  return _openBlock(), _createBlock(_component_a_card, {\n    class: \"monitoring-card\",\n    bordered: false\n  }, {\n    title: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"span\", _hoisted_2, _toDisplayString($props.card.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_a_tooltip, {\n      title: \"刷新数据\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_a_button, {\n        type: \"text\",\n        size: \"small\",\n        onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('refresh', $props.card.id)),\n        loading: $setup.refreshing\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"ReloadOutlined\"])]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\"])]),\n      _: 1 /* STABLE */\n    })])])]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 图表显示 \"), $props.card.type === 'chart' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.card.data, (item, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"chart-item\"\n      }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, _toDisplayString(item.value) + _toDisplayString($props.card.unit), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", {\n        class: \"bar-fill\",\n        style: _normalizeStyle({\n          width: `${$setup.getPercentage(item.value)}%`,\n          backgroundColor: $props.card.color\n        })\n      }, null, 4 /* STYLE */)])]);\n    }), 128 /* KEYED_FRAGMENT */))])) : $props.card.type === 'list' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createCommentVNode(\" 列表显示 \"), _createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.card.data, (item, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: \"list-item\"\n      }, [_createElementVNode(\"div\", _hoisted_11, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_14, _toDisplayString(item.detail), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_15, _toDisplayString(item.value) + _toDisplayString($props.card.unit), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 空数据状态 \"), !$props.card.data || $props.card.data.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createVNode($setup[\"InboxOutlined\"], {\n      class: \"empty-icon\"\n    }), _cache[1] || (_cache[1] = _createElementVNode(\"p\", null, \"暂无数据\", -1 /* CACHED */))])) : _createCommentVNode(\"v-if\", true)])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createBlock","_component_a_card","bordered","title","_withCtx","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","$props","card","_hoisted_3","_createVNode","_component_a_tooltip","_component_a_button","type","size","onClick","_cache","$event","_ctx","$emit","id","loading","$setup","refreshing","_hoisted_4","_createCommentVNode","_createElementBlock","_hoisted_5","_Fragment","_renderList","data","item","index","key","_hoisted_6","_hoisted_7","name","_hoisted_8","value","unit","_hoisted_9","style","_normalizeStyle","getPercentage","color","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","detail","_hoisted_15","length","_hoisted_16"],"sources":["E:\\A_project\\yuanchi\\AIops\\frontend\\src\\components\\business\\MonitoringCard.vue"],"sourcesContent":["<template>\r\n  <a-card class=\"monitoring-card\" :bordered=\"false\">\r\n    <template #title>\r\n      <div class=\"card-header\">\r\n        <span class=\"card-title\">{{ card.title }}</span>\r\n        <div class=\"card-actions\">\r\n          <a-tooltip title=\"刷新数据\">\r\n            <a-button \r\n              type=\"text\" \r\n              size=\"small\" \r\n              @click=\"$emit('refresh', card.id)\"\r\n              :loading=\"refreshing\"\r\n            >\r\n              <ReloadOutlined />\r\n            </a-button>\r\n          </a-tooltip>\r\n        </div>\r\n      </div>\r\n    </template>\r\n    \r\n    <div class=\"card-content\">\r\n      <!-- 图表显示 -->\r\n      <div v-if=\"card.type === 'chart'\" class=\"chart-container\">\r\n        <div \r\n          v-for=\"(item, index) in card.data\" \r\n          :key=\"index\"\r\n          class=\"chart-item\"\r\n        >\r\n          <div class=\"item-info\">\r\n            <div class=\"item-name\">{{ item.name }}</div>\r\n            <div class=\"item-value\">{{ item.value }}{{ card.unit }}</div>\r\n          </div>\r\n          <div class=\"item-bar\">\r\n            <div \r\n              class=\"bar-fill\"\r\n              :style=\"{ \r\n                width: `${getPercentage(item.value)}%`,\r\n                backgroundColor: card.color \r\n              }\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 列表显示 -->\r\n      <div v-else-if=\"card.type === 'list'\" class=\"list-container\">\r\n        <div \r\n          v-for=\"(item, index) in card.data\" \r\n          :key=\"index\"\r\n          class=\"list-item\"\r\n        >\r\n          <div class=\"item-rank\">{{ index + 1 }}</div>\r\n          <div class=\"item-content\">\r\n            <div class=\"item-name\">{{ item.name }}</div>\r\n            <div class=\"item-detail\">{{ item.detail }}</div>\r\n          </div>\r\n          <div class=\"item-value\">{{ item.value }}{{ card.unit }}</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 空数据状态 -->\r\n      <div v-if=\"!card.data || card.data.length === 0\" class=\"empty-state\">\r\n        <InboxOutlined class=\"empty-icon\" />\r\n        <p>暂无数据</p>\r\n      </div>\r\n    </div>\r\n  </a-card>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue';\r\nimport { ReloadOutlined, InboxOutlined } from '@ant-design/icons-vue';\r\n\r\nconst props = defineProps({\r\n  card: {\r\n    type: Object,\r\n    required: true\r\n  }\r\n});\r\n\r\nconst emit = defineEmits(['refresh']);\r\n\r\nconst refreshing = ref(false);\r\n\r\n// 计算百分比\r\nconst getPercentage = (value) => {\r\n  if (!props.card.data || props.card.data.length === 0) return 0;\r\n  \r\n  const maxValue = Math.max(...props.card.data.map(item => item.value));\r\n  return (value / maxValue) * 100;\r\n};\r\n\r\n// 处理刷新\r\nconst handleRefresh = async () => {\r\n  refreshing.value = true;\r\n  try {\r\n    emit('refresh', props.card.id);\r\n    // 模拟刷新延迟\r\n    await new Promise(resolve => setTimeout(resolve, 1000));\r\n  } finally {\r\n    refreshing.value = false;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.monitoring-card {\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(24, 144, 255, 0.06);\r\n  border: 1px solid rgba(24, 144, 255, 0.04);\r\n  overflow: hidden;\r\n  height: 100%;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.monitoring-card:hover {\r\n  box-shadow: 0 4px 20px rgba(24, 144, 255, 0.1);\r\n  transform: translateY(-1px);\r\n}\r\n\r\n:deep(.monitoring-card .ant-card-head) {\r\n  background: linear-gradient(135deg, #f8faff 0%, #ffffff 100%);\r\n  border-bottom: 1px solid rgba(24, 144, 255, 0.08);\r\n  padding: 12px 16px;\r\n  min-height: auto;\r\n}\r\n\r\n:deep(.monitoring-card .ant-card-body) {\r\n  background: linear-gradient(135deg, #ffffff 0%, #fafbff 100%);\r\n  padding: 16px;\r\n  height: calc(100% - 60px);\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.card-title {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #434343;\r\n}\r\n\r\n.card-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n}\r\n\r\n.card-content {\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 图表样式 */\r\n.chart-container {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.chart-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 6px 0;\r\n}\r\n\r\n.item-info {\r\n  min-width: 80px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.item-name {\r\n  font-size: 12px;\r\n  color: #595959;\r\n  margin-bottom: 2px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.item-value {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: #262626;\r\n}\r\n\r\n.item-bar {\r\n  flex: 1;\r\n  height: 8px;\r\n  background: rgba(0, 0, 0, 0.04);\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.bar-fill {\r\n  height: 100%;\r\n  border-radius: 4px;\r\n  transition: width 0.6s ease;\r\n  position: relative;\r\n}\r\n\r\n.bar-fill::after {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 4px;\r\n  height: 100%;\r\n  background: rgba(255, 255, 255, 0.3);\r\n  border-radius: 0 4px 4px 0;\r\n}\r\n\r\n/* 列表样式 */\r\n.list-container {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n}\r\n\r\n.list-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.list-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.item-rank {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #1890ff;\r\n  color: white;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.item-content {\r\n  flex: 1;\r\n}\r\n\r\n.item-detail {\r\n  font-size: 11px;\r\n  color: #8c8c8c;\r\n  margin-top: 2px;\r\n}\r\n\r\n/* 空状态 */\r\n.empty-state {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #bfbfbf;\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 32px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.empty-state p {\r\n  font-size: 12px;\r\n  margin: 0;\r\n}\r\n\r\n/* 响应式 */\r\n@media (max-width: 768px) {\r\n  .chart-item {\r\n    gap: 8px;\r\n    padding: 4px 0;\r\n  }\r\n  \r\n  .item-info {\r\n    min-width: 70px;\r\n  }\r\n  \r\n  .item-name {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .item-value {\r\n    font-size: 12px;\r\n  }\r\n  \r\n  .item-bar {\r\n    height: 6px;\r\n  }\r\n  \r\n  .list-item {\r\n    gap: 8px;\r\n    padding: 6px 0;\r\n  }\r\n  \r\n  .item-rank {\r\n    width: 18px;\r\n    height: 18px;\r\n    font-size: 10px;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}