{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref, reactive, watch, computed } from 'vue';\nimport { PlusOutlined, EditOutlined, DeleteOutlined, HolderOutlined } from '@ant-design/icons-vue';\nimport CardConfigModal from './CardConfigModal.vue';\nexport default {\n  __name: 'CardManager',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    modelValue: {\n      type: Array,\n      default: () => []\n    },\n    showAlertCard: {\n      type: Boolean,\n      default: true\n    },\n    showMetricsCard: {\n      type: Boolean,\n      default: true\n    },\n    alertData: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: ['update:open', 'update:modelValue', 'update:showAlertCard', 'update:showMetricsCard', 'save'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n\n    // 响应式数据\n    const visible = ref(false);\n    const cards = ref([]);\n    const configModalVisible = ref(false);\n    const currentEditCard = ref({});\n    const dragIndex = ref(-1);\n    const dragSourceIndex = ref(-1);\n    const dragOverIndex = ref(-1);\n\n    // 监听弹窗显示状态\n    watch(() => props.open, newVal => {\n      visible.value = newVal;\n      if (newVal) {\n        loadCards();\n      }\n    });\n    watch(visible, newVal => {\n      emit('update:open', newVal);\n    });\n\n    // 加载卡片数据\n    const loadCards = () => {\n      cards.value = [...props.modelValue];\n    };\n\n    // 添加新卡片\n    const addCard = () => {\n      if (cards.value.length >= 4) {\n        return;\n      }\n      currentEditCard.value = {\n        id: `card_${Date.now()}`,\n        title: 'CPU使用率 TOP5',\n        type: 'chart',\n        chartType: 'bar',\n        dataType: 'cpu',\n        unit: '%',\n        color: '#ff7875',\n        refreshInterval: 60,\n        data: [{\n          name: 'web-server-01',\n          value: 85.2\n        }, {\n          name: 'db-server-02',\n          value: 78.5\n        }, {\n          name: 'app-server-03',\n          value: 72.8\n        }, {\n          name: 'proxy-server-01',\n          value: 68.3\n        }, {\n          name: 'cache-server-01',\n          value: 65.7\n        }]\n      };\n      configModalVisible.value = true;\n    };\n\n    // 编辑卡片\n    const editCard = index => {\n      currentEditCard.value = {\n        ...cards.value[index]\n      };\n      currentEditCard.value.index = index;\n      configModalVisible.value = true;\n    };\n\n    // 删除卡片\n    const removeCard = index => {\n      cards.value.splice(index, 1);\n      saveChanges();\n    };\n\n    // 保存卡片配置\n    const handleSaveCard = cardConfig => {\n      if (cardConfig.index !== undefined) {\n        // 编辑现有卡片\n        cards.value[cardConfig.index] = {\n          ...cardConfig\n        };\n        delete cards.value[cardConfig.index].index;\n      } else {\n        // 添加新卡片\n        if (cards.value.length < 4) {\n          cards.value.push(cardConfig);\n        }\n      }\n      saveChanges();\n      configModalVisible.value = false;\n    };\n\n    // 田字格卡片拖拽开始\n    const handleCardDragStart = (event, sourceIndex) => {\n      dragSourceIndex.value = sourceIndex;\n      event.dataTransfer.effectAllowed = 'move';\n      event.dataTransfer.setData('text/plain', sourceIndex.toString());\n    };\n\n    // 田字格卡片拖拽结束\n    const handleCardDragEnd = event => {\n      dragSourceIndex.value = -1;\n      dragOverIndex.value = -1;\n    };\n\n    // 田字格拖拽悬停\n    const handleGridDragOver = (event, targetIndex) => {\n      event.preventDefault();\n      if (dragSourceIndex.value !== -1 && dragSourceIndex.value !== targetIndex) {\n        dragOverIndex.value = targetIndex;\n        event.dataTransfer.dropEffect = 'move';\n      }\n    };\n\n    // 田字格拖拽离开\n    const handleGridDragLeave = (event, targetIndex) => {\n      if (dragOverIndex.value === targetIndex) {\n        dragOverIndex.value = -1;\n      }\n    };\n\n    // 田字格拖拽放置\n    const handleGridDrop = (event, targetIndex) => {\n      event.preventDefault();\n      const sourceIndex = dragSourceIndex.value;\n      if (sourceIndex !== -1 && sourceIndex !== targetIndex) {\n        // 交换位置\n        const draggedCard = cards.value[sourceIndex];\n        const targetCard = cards.value[targetIndex];\n        if (targetCard) {\n          // 交换两个卡片的位置\n          cards.value[sourceIndex] = targetCard;\n          cards.value[targetIndex] = draggedCard;\n        } else {\n          // 移动到空位置\n          cards.value[targetIndex] = draggedCard;\n          cards.value[sourceIndex] = undefined;\n          // 清理数组中的undefined\n          cards.value = cards.value.filter(card => card !== undefined);\n        }\n        saveChanges();\n      }\n      dragSourceIndex.value = -1;\n      dragOverIndex.value = -1;\n    };\n\n    // 检查是否是有效的放置区域\n    const isValidDropZone = targetIndex => {\n      return dragSourceIndex.value !== -1 && dragSourceIndex.value !== targetIndex;\n    };\n\n    // 拖拽开始\n    const handleDragStart = (event, index) => {\n      dragIndex.value = index;\n      event.dataTransfer.effectAllowed = 'move';\n    };\n\n    // 拖拽放置（列表拖拽到田字格）\n    const handleDrop = (event, targetIndex) => {\n      event.preventDefault();\n      if (dragIndex.value !== -1 && dragIndex.value !== targetIndex) {\n        // 交换位置\n        const draggedCard = cards.value[dragIndex.value];\n        const targetCard = cards.value[targetIndex];\n        if (targetCard) {\n          // 交换两个卡片的位置\n          cards.value[dragIndex.value] = targetCard;\n          cards.value[targetIndex] = draggedCard;\n        } else {\n          // 移动到空位置\n          cards.value[targetIndex] = draggedCard;\n          cards.value.splice(dragIndex.value, 1);\n        }\n        saveChanges();\n      }\n      dragIndex.value = -1;\n    };\n\n    // 保存更改\n    const saveChanges = () => {\n      emit('update:modelValue', cards.value);\n      emit('save', {\n        cards: cards.value,\n        showAlert: props.showAlertCard,\n        showMetrics: props.showMetricsCard\n      });\n    };\n\n    // 确认保存\n    const handleSave = () => {\n      saveChanges();\n      visible.value = false;\n    };\n\n    // 取消\n    const handleCancel = () => {\n      visible.value = false;\n    };\n    const __returned__ = {\n      props,\n      emit,\n      visible,\n      cards,\n      configModalVisible,\n      currentEditCard,\n      dragIndex,\n      dragSourceIndex,\n      dragOverIndex,\n      loadCards,\n      addCard,\n      editCard,\n      removeCard,\n      handleSaveCard,\n      handleCardDragStart,\n      handleCardDragEnd,\n      handleGridDragOver,\n      handleGridDragLeave,\n      handleGridDrop,\n      isValidDropZone,\n      handleDragStart,\n      handleDrop,\n      saveChanges,\n      handleSave,\n      handleCancel,\n      ref,\n      reactive,\n      watch,\n      computed,\n      get PlusOutlined() {\n        return PlusOutlined;\n      },\n      get EditOutlined() {\n        return EditOutlined;\n      },\n      get DeleteOutlined() {\n        return DeleteOutlined;\n      },\n      get HolderOutlined() {\n        return HolderOutlined;\n      },\n      CardConfigModal\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","reactive","watch","computed","PlusOutlined","EditOutlined","DeleteOutlined","HolderOutlined","CardConfigModal","props","__props","emit","__emit","visible","cards","configModalVisible","currentEditCard","dragIndex","dragSourceIndex","dragOverIndex","open","newVal","value","loadCards","modelValue","addCard","length","id","Date","now","title","type","chartType","dataType","unit","color","refreshInterval","data","name","editCard","index","removeCard","splice","saveChanges","handleSaveCard","cardConfig","undefined","push","handleCardDragStart","event","sourceIndex","dataTransfer","effectAllowed","setData","toString","handleCardDragEnd","handleGridDragOver","targetIndex","preventDefault","dropEffect","handleGridDragLeave","handleGridDrop","draggedCard","targetCard","filter","card","isValidDropZone","handleDragStart","handleDrop","showAlert","showAlertCard","showMetrics","showMetricsCard","handleSave","handleCancel"],"sources":["E:/A_project/yuanchi/AIops/frontend/src/components/admin/CardManager.vue"],"sourcesContent":["<template>\r\n  <a-modal\r\n    v-model:open=\"visible\"\r\n    title=\"监控卡片管理\"\r\n    width=\"800px\"\r\n    @ok=\"handleSave\"\r\n    @cancel=\"handleCancel\"\r\n  >\r\n    <div class=\"card-manager\">\r\n      <div class=\"manager-header\">\r\n        <div class=\"header-info\">\r\n          <span class=\"grid-info\">2×2田字格布局 | 最多显示4个TOP5监控卡片</span>\r\n        </div>\r\n        <div class=\"header-actions\">\r\n          <a-button \r\n            type=\"primary\" \r\n            size=\"small\" \r\n            :disabled=\"cards.length >= 4\"\r\n            @click=\"addCard\"\r\n          >\r\n            <PlusOutlined /> 添加卡片 ({{ cards.length }}/4)\r\n          </a-button>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 2×2田字格预览 -->\r\n      <div class=\"grid-preview\">\r\n        <div \r\n          v-for=\"index in 4\" \r\n          :key=\"index\"\r\n          class=\"grid-slot\"\r\n          :class=\"{ \r\n            'has-card': cards[index - 1],\r\n            'drag-over': dragOverIndex === index - 1,\r\n            'valid-drop': isValidDropZone(index - 1)\r\n          }\"\r\n          @dragover.prevent=\"handleGridDragOver($event, index - 1)\"\r\n          @dragleave=\"handleGridDragLeave($event, index - 1)\"\r\n          @drop=\"handleGridDrop($event, index - 1)\"\r\n        >\r\n          <div \r\n            v-if=\"cards[index - 1]\" \r\n            class=\"preview-card\"\r\n            :class=\"{ 'dragging': dragSourceIndex === index - 1 }\"\r\n            draggable=\"true\"\r\n            @dragstart=\"handleCardDragStart($event, index - 1)\"\r\n            @dragend=\"handleCardDragEnd($event)\"\r\n          >\r\n            <div class=\"card-header\">\r\n              <span class=\"card-title\">\r\n                <HolderOutlined class=\"drag-handle\" />\r\n                {{ cards[index - 1].title }}\r\n              </span>\r\n              <div class=\"card-actions\">\r\n                <a-button \r\n                  type=\"text\" \r\n                  size=\"small\" \r\n                  @click.stop=\"editCard(index - 1)\"\r\n                >\r\n                  <EditOutlined />\r\n                </a-button>\r\n                <a-button \r\n                  type=\"text\" \r\n                  size=\"small\" \r\n                  danger\r\n                  @click.stop=\"removeCard(index - 1)\"\r\n                >\r\n                  <DeleteOutlined />\r\n                </a-button>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-content\">\r\n              <div class=\"chart-mini\">\r\n                <div \r\n                  v-for=\"item in cards[index - 1].data.slice(0, 3)\" \r\n                  :key=\"item.name\"\r\n                  class=\"mini-bar\"\r\n                >\r\n                  <span class=\"mini-label\">{{ item.name }}</span>\r\n                  <div class=\"mini-value\">{{ item.value }}{{ cards[index - 1].unit }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"empty-slot\">\r\n            <PlusOutlined class=\"add-icon\" />\r\n            <span>空位置</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 卡片列表管理 -->\r\n    </div>\r\n    \r\n    <!-- 卡片配置弹窗 -->\r\n    <CardConfigModal\r\n      v-model:open=\"configModalVisible\"\r\n      :card-data=\"currentEditCard\"\r\n      @save=\"handleSaveCard\"\r\n    />\r\n  </a-modal>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, watch, computed } from 'vue';\r\nimport {\r\n  PlusOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  HolderOutlined\r\n} from '@ant-design/icons-vue';\r\nimport CardConfigModal from './CardConfigModal.vue';\r\n\r\nconst props = defineProps({\r\n  open: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  modelValue: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  showAlertCard: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  showMetricsCard: {\r\n    type: Boolean,\r\n    default: true\r\n  },\r\n  alertData: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n});\r\n\r\nconst emit = defineEmits(['update:open', 'update:modelValue', 'update:showAlertCard', 'update:showMetricsCard', 'save']);\r\n\r\n// 响应式数据\r\nconst visible = ref(false);\r\nconst cards = ref([]);\r\nconst configModalVisible = ref(false);\r\nconst currentEditCard = ref({});\r\nconst dragIndex = ref(-1);\r\nconst dragSourceIndex = ref(-1);\r\nconst dragOverIndex = ref(-1);\r\n\r\n// 监听弹窗显示状态\r\nwatch(() => props.open, (newVal) => {\r\n  visible.value = newVal;\r\n  if (newVal) {\r\n    loadCards();\r\n  }\r\n});\r\n\r\nwatch(visible, (newVal) => {\r\n  emit('update:open', newVal);\r\n});\r\n\r\n// 加载卡片数据\r\nconst loadCards = () => {\r\n  cards.value = [...props.modelValue];\r\n};\r\n\r\n// 添加新卡片\r\nconst addCard = () => {\r\n  if (cards.value.length >= 4) {\r\n    return;\r\n  }\r\n  \r\n  currentEditCard.value = {\r\n    id: `card_${Date.now()}`,\r\n    title: 'CPU使用率 TOP5',\r\n    type: 'chart',\r\n    chartType: 'bar',\r\n    dataType: 'cpu',\r\n    unit: '%',\r\n    color: '#ff7875',\r\n    refreshInterval: 60,\r\n    data: [\r\n      { name: 'web-server-01', value: 85.2 },\r\n      { name: 'db-server-02', value: 78.5 },\r\n      { name: 'app-server-03', value: 72.8 },\r\n      { name: 'proxy-server-01', value: 68.3 },\r\n      { name: 'cache-server-01', value: 65.7 }\r\n    ]\r\n  };\r\n  \r\n  configModalVisible.value = true;\r\n};\r\n\r\n// 编辑卡片\r\nconst editCard = (index) => {\r\n  currentEditCard.value = { ...cards.value[index] };\r\n  currentEditCard.value.index = index;\r\n  configModalVisible.value = true;\r\n};\r\n\r\n// 删除卡片\r\nconst removeCard = (index) => {\r\n  cards.value.splice(index, 1);\r\n  saveChanges();\r\n};\r\n\r\n// 保存卡片配置\r\nconst handleSaveCard = (cardConfig) => {\r\n  if (cardConfig.index !== undefined) {\r\n    // 编辑现有卡片\r\n    cards.value[cardConfig.index] = { ...cardConfig };\r\n    delete cards.value[cardConfig.index].index;\r\n  } else {\r\n    // 添加新卡片\r\n    if (cards.value.length < 4) {\r\n      cards.value.push(cardConfig);\r\n    }\r\n  }\r\n  \r\n  saveChanges();\r\n  configModalVisible.value = false;\r\n};\r\n\r\n// 田字格卡片拖拽开始\r\nconst handleCardDragStart = (event, sourceIndex) => {\r\n  dragSourceIndex.value = sourceIndex;\r\n  event.dataTransfer.effectAllowed = 'move';\r\n  event.dataTransfer.setData('text/plain', sourceIndex.toString());\r\n};\r\n\r\n// 田字格卡片拖拽结束\r\nconst handleCardDragEnd = (event) => {\r\n  dragSourceIndex.value = -1;\r\n  dragOverIndex.value = -1;\r\n};\r\n\r\n// 田字格拖拽悬停\r\nconst handleGridDragOver = (event, targetIndex) => {\r\n  event.preventDefault();\r\n  if (dragSourceIndex.value !== -1 && dragSourceIndex.value !== targetIndex) {\r\n    dragOverIndex.value = targetIndex;\r\n    event.dataTransfer.dropEffect = 'move';\r\n  }\r\n};\r\n\r\n// 田字格拖拽离开\r\nconst handleGridDragLeave = (event, targetIndex) => {\r\n  if (dragOverIndex.value === targetIndex) {\r\n    dragOverIndex.value = -1;\r\n  }\r\n};\r\n\r\n// 田字格拖拽放置\r\nconst handleGridDrop = (event, targetIndex) => {\r\n  event.preventDefault();\r\n  \r\n  const sourceIndex = dragSourceIndex.value;\r\n  if (sourceIndex !== -1 && sourceIndex !== targetIndex) {\r\n    // 交换位置\r\n    const draggedCard = cards.value[sourceIndex];\r\n    const targetCard = cards.value[targetIndex];\r\n    \r\n    if (targetCard) {\r\n      // 交换两个卡片的位置\r\n      cards.value[sourceIndex] = targetCard;\r\n      cards.value[targetIndex] = draggedCard;\r\n    } else {\r\n      // 移动到空位置\r\n      cards.value[targetIndex] = draggedCard;\r\n      cards.value[sourceIndex] = undefined;\r\n      // 清理数组中的undefined\r\n      cards.value = cards.value.filter(card => card !== undefined);\r\n    }\r\n    \r\n    saveChanges();\r\n  }\r\n  \r\n  dragSourceIndex.value = -1;\r\n  dragOverIndex.value = -1;\r\n};\r\n\r\n// 检查是否是有效的放置区域\r\nconst isValidDropZone = (targetIndex) => {\r\n  return dragSourceIndex.value !== -1 && dragSourceIndex.value !== targetIndex;\r\n};\r\n\r\n// 拖拽开始\r\nconst handleDragStart = (event, index) => {\r\n  dragIndex.value = index;\r\n  event.dataTransfer.effectAllowed = 'move';\r\n};\r\n\r\n// 拖拽放置（列表拖拽到田字格）\r\nconst handleDrop = (event, targetIndex) => {\r\n  event.preventDefault();\r\n  \r\n  if (dragIndex.value !== -1 && dragIndex.value !== targetIndex) {\r\n    // 交换位置\r\n    const draggedCard = cards.value[dragIndex.value];\r\n    const targetCard = cards.value[targetIndex];\r\n    \r\n    if (targetCard) {\r\n      // 交换两个卡片的位置\r\n      cards.value[dragIndex.value] = targetCard;\r\n      cards.value[targetIndex] = draggedCard;\r\n    } else {\r\n      // 移动到空位置\r\n      cards.value[targetIndex] = draggedCard;\r\n      cards.value.splice(dragIndex.value, 1);\r\n    }\r\n    \r\n    saveChanges();\r\n  }\r\n  \r\n  dragIndex.value = -1;\r\n};\r\n\r\n// 保存更改\r\nconst saveChanges = () => {\r\n  emit('update:modelValue', cards.value);\r\n  emit('save', {\r\n    cards: cards.value,\r\n    showAlert: props.showAlertCard,\r\n    showMetrics: props.showMetricsCard\r\n  });\r\n};\r\n\r\n// 确认保存\r\nconst handleSave = () => {\r\n  saveChanges();\r\n  visible.value = false;\r\n};\r\n\r\n// 取消\r\nconst handleCancel = () => {\r\n  visible.value = false;\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.card-manager {\r\n  padding: 0;\r\n}\r\n\r\n.manager-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.header-info {\r\n  flex: 1;\r\n}\r\n\r\n.grid-info {\r\n  color: #666;\r\n  font-size: 12px;\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n/* 2×2网格预览 */\r\n.grid-preview {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  grid-template-rows: 1fr 1fr;\r\n  gap: 16px;\r\n  height: 400px;\r\n  margin-bottom: 24px;\r\n  background: #fafafa;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  border: 1px solid #f0f0f0;\r\n}\r\n\r\n.grid-slot {\r\n  border: 2px dashed #d9d9d9;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.grid-slot:hover {\r\n  border-color: #1890ff;\r\n  background: #f0f8ff;\r\n}\r\n\r\n.grid-slot.has-card {\r\n  border-style: solid;\r\n  border-color: #1890ff;\r\n  background: #fff;\r\n}\r\n\r\n.grid-slot.drag-over {\r\n  border-color: #52c41a !important;\r\n  background: #f6ffed !important;\r\n  border-style: solid !important;\r\n  transform: scale(1.02);\r\n  box-shadow: 0 4px 12px rgba(82, 196, 26, 0.3);\r\n}\r\n\r\n.grid-slot.valid-drop {\r\n  border-color: #faad14;\r\n  background: #fffbe6;\r\n  border-style: dashed;\r\n}\r\n\r\n/* 预览卡片 */\r\n.preview-card {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  cursor: grab;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.preview-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 16px rgba(24, 144, 255, 0.15);\r\n}\r\n\r\n.preview-card:active {\r\n  cursor: grabbing;\r\n}\r\n\r\n.preview-card.dragging {\r\n  opacity: 0.5;\r\n  transform: rotate(2deg) scale(0.95);\r\n  box-shadow: 0 8px 24px rgba(24, 144, 255, 0.3);\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 8px 12px;\r\n  background: rgba(24, 144, 255, 0.05);\r\n  border-bottom: 1px solid rgba(24, 144, 255, 0.1);\r\n}\r\n\r\n.card-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: #262626;\r\n  flex: 1;\r\n}\r\n\r\n.drag-handle {\r\n  color: #1890ff;\r\n  cursor: grab;\r\n  font-size: 10px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.drag-handle:hover {\r\n  color: #40a9ff;\r\n  transform: scale(1.2);\r\n}\r\n\r\n.drag-handle:active {\r\n  cursor: grabbing;\r\n  color: #096dd9;\r\n}\r\n\r\n.card-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n}\r\n\r\n.card-content {\r\n  flex: 1;\r\n  padding: 8px 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n/* 图表预览 */\r\n.chart-mini {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.mini-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 10px;\r\n}\r\n\r\n.mini-label {\r\n  width: 60px;\r\n  color: #666;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.mini-value {\r\n  font-weight: 500;\r\n  color: #1890ff;\r\n}\r\n\r\n/* 空位置样式 */\r\n.empty-slot {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #bbb;\r\n  font-size: 12px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.grid-slot.drag-over .empty-slot {\r\n  color: #52c41a;\r\n}\r\n\r\n.add-icon {\r\n  font-size: 24px;\r\n  margin-bottom: 8px;\r\n  color: #d9d9d9;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.grid-slot.drag-over .add-icon {\r\n  color: #52c41a;\r\n  transform: scale(1.2);\r\n}\r\n\r\n/* 卡片列表管理 */\r\n.card-list {\r\n  border-top: 1px solid #f0f0f0;\r\n  padding-top: 20px;\r\n}\r\n\r\n.card-list h4 {\r\n  margin: 0 0 16px 0;\r\n  font-size: 14px;\r\n  color: #262626;\r\n  font-weight: 600;\r\n}\r\n\r\n.list-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.list-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 12px;\r\n  background: #fafafa;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 6px;\r\n  cursor: grab;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.list-item:hover {\r\n  background: #f0f8ff;\r\n  border-color: #1890ff;\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 8px rgba(24, 144, 255, 0.15);\r\n}\r\n\r\n.list-item:active {\r\n  cursor: grabbing;\r\n}\r\n\r\n.item-title {\r\n  flex: 1;\r\n  font-size: 13px;\r\n  font-weight: 500;\r\n  color: #262626;\r\n}\r\n\r\n.item-type {\r\n  font-size: 11px;\r\n  color: #666;\r\n  background: #f0f0f0;\r\n  padding: 2px 6px;\r\n  border-radius: 3px;\r\n}\r\n\r\n.item-actions {\r\n  display: flex;\r\n  gap: 4px;\r\n}\r\n\r\n.empty-list {\r\n  text-align: center;\r\n  padding: 40px 20px;\r\n  color: #bbb;\r\n  font-size: 12px;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .grid-preview {\r\n    height: 300px;\r\n    gap: 12px;\r\n    padding: 12px;\r\n  }\r\n  \r\n  .manager-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 12px;\r\n  }\r\n  \r\n  .header-actions {\r\n    align-self: stretch;\r\n    justify-content: flex-end;\r\n  }\r\n  \r\n  .card-header {\r\n    padding: 6px 8px;\r\n  }\r\n  \r\n  .card-title {\r\n    font-size: 11px;\r\n  }\r\n  \r\n  .card-content {\r\n    padding: 6px 8px;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}